{"version":3,"sources":["webpack:///webpack/bootstrap 358fea1ea98669f38735","webpack:///./studio/main_dev.js","webpack:///external \"Studio\"","webpack:///./studio/NewTagModal.js","webpack:///external \"Studio.libraries['react']\"","webpack:///./studio/ColorPickerTrigger.js","webpack:///./~/object-assign/index.js","webpack:///./studio/ShowColor.js","webpack:///./studio/simpleCheckForValidColor.js","webpack:///./studio/colorLuminance.js","webpack:///./studio/ColorPicker/index.js","webpack:///./studio/ColorPicker/ColorWrap.js","webpack:///./~/lodash.debounce/index.js","webpack:///./studio/ColorPicker/Picker.js","webpack:///./studio/ColorPicker/utils/handleHover.js","webpack:///./studio/ColorPicker/Swatch.js","webpack:///./studio/TagEditor.js","webpack:///./studio/TagProperties.js","webpack:///./studio/EntityTagProperties.js","webpack:///./studio/EntityTreeTagOrganizer.js","webpack:///./studio/emitter.js","webpack:///./~/mitt/dist/mitt.js","webpack:///./studio/findTagInSet.js","webpack:///./shared/reservedTagNames.js","webpack:///./studio/TagEntityTreeToolbar.js","webpack:///./studio/TagEntityTreeOrganizeButtonToolbar.js","webpack:///./studio/TagEntityTreeFilterButtonToolbar.js","webpack:///./studio/TagEntityTreeFilterByTags.js","webpack:///external \"Studio.libraries['react-list']\"","webpack:///./studio/getColorLuminance.js","webpack:///./studio/hexToRgb.js","webpack:///./studio/TagEntityTreeFilterByTags.scss?0e87","webpack:///./studio/TagEntityTreeFilterByTags.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./studio/TagEntityTreeItem.js","webpack:///./studio/TagEntityTreeTagGroupItem.js","webpack:///./studio/filterItemWithTagsStrategy.js"],"names":["addEntitySet","name","faIcon","visibleName","onNew","openModal","helpUrl","referenceAttributes","entityTreePosition","initializeListeners","push","Object","keys","entitySets","forEach","entitySetName","entitySet","indexOf","addEditorComponent","addPropertiesComponent","title","entity","__entitySet","addEntityTreeWrapperComponent","addEntityTreeToolbarComponent","addEntityTreeItemComponent","entityTreeFilterItemResolvers","NewTagModal","props","state","displayColorPicker","selectedColor","error","setTimeout","refs","focus","e","key","createTag","value","setState","color","description","api","post","data","response","addExistingEntity","openTab","close","message","handleKeyPress","border","colorInputValue","colorHex","resize","display","opacity","propTypes","func","isRequired","ColorPicketTrigger","containerStyles","onClickColorTrigger","onInputChange","onChangeSelectionColor","onCloseColorPicker","translateXColorPickerFromTrigger","translateYColorPickerFromTrigger","containerTriggerPickerStyles","height","padding","defaultContainerStyles","currentColor","currentContainerStyles","colorPickerContainerStyles","transformValue","transform","width","ev","target","hex","bool","string","object","ShowColor","borderColor","backgroundColor","borderWidth","borderStyle","content","verticalAlign","number","HEX_COLOR_REGEXP","simpleCheckForValidColor","test","lum","selectedLum","selectedHex","String","replace","length","rgb","c","i","parseInt","substr","Math","round","min","max","toString","colorToState","ColorWrap","Picker","ColorPicker","handleChange","event","isValidColor","colors","onChangeComplete","debounce","onChange","visible","fn","nextProps","defaultProps","PickerSwatch","hover","onClick","styles","swatch","position","zIndex","outline","boxShadow","triangle","card","background","borderRadius","flexWrap","source","map","handleHover","Component","Span","handleMouseOver","handleMouseOut","render","Swatch","style","cursor","handleClick","TagEditor","TagProperties","entities","_id","v","selectValues","atags","el","tags","assign","options","selected","filter","t","shortid","EntityTagProperties","removeInvalidTagReferences","k","updatedTags","selectTags","getNameAndColor","foundTags","tg","undefined","getSelectedTags","tIndex","allSelectTags","marginRight","require","reservedTagNames","default","noTagGroupName","tagsGroupName","specialGroups","EntityTreeTagOrganizer","organizeByDefault","extensions","organizeByTags","onOrganizationModeChange","bind","on","off","organizeByTag","groups","tagName","collection","initializeSets","groupData","noGroup","collectionItem","collectionItemEntitiesSet","dataInGroup","__hasChildEntitiesSet__","entitiesSet","nameOfSet","newEntities","entitySetsNames","allTagEntities","getReferences","groupsWithData","entityTag","tagInfo","addToEntitiesByTag","groupType","specialGroupName","entitiesInSet","entitiesInSetCount","j","Array","isArray","tagsCount","addToGroups","addToGroupsWithData","gname","entitiesByTag","cloneElement","children","renderClassicTree","renderObjectSubTree","groupEntitiesByTag","groupName","emitter","tagSet","tagShortId","tag","found","some","tagInSet","module","exports","TagEntityTreeToolbar","showFilterBytag","filteredByTags","selectedTags","onTagSelectChange","prevState","emit","setFilter","isActive","TagEntityTreeOrganizeButtonToolbar","active","marginLeft","TagEntityTreeFilterButtonToolbar","allTags","showFilter","onFilterClose","TagEntityTreeFilterByTags","showTagsList","filterText","createRenderer","addSelectedTag","onTagSelectionClick","onChangeInputTag","onKeyDownInputTag","onRemoveTagItem","index","renderTagItem","previousSelectedTags","tagSelectionInput","filterPass","foundInSelectedTags","selectTag","tagSelection","defaultPrevented","keyCode","inputTag","remove","enterKey","removeKey","preventDefault","selectedTagsLastIndex","tagIndex","originalSelectedTags","slice","tagsListItem","tagsToShowInList","getTagsToShow","stylesForTagsList","stylesForInputTag","searchTagsContainer","searchTagsInputBox","tagsSelect","tagStyles","tagsSelectItem","tagsSelectItemRemove","searchTags","tagsListContainer","tagsList","tagsListEmpty","arrayOf","shape","RsRGB","GsRGB","BsRGB","R","G","B","r","g","b","pow","shorthandRegex","fullHex","m","result","exec","TagEntityTreeItem","tagsLength","tagFound","TagEntityTreeTagGroupItem","filterInfo","allTagsInEntity","every","tagInEntity"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO,YAAY;AAC9B,YAAW,QAAQ;AACnB;AACA,YAAW,OAAO;AAClB;AACA,YAAW,QAAQ;AACnB;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,+CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACvXA;;;;AACA;;;;;;AAEA,KAAMc,eAAe,2BAAY,gBAA+B;AAAA,OAA5BC,KAA4B,QAA5BA,KAA4B;AAAA,OAArBvF,KAAqB,QAArBA,KAAqB;AAAA,OAAdwF,OAAc,QAAdA,OAAc;;AAC9D,OAAMC,SAAS;AACbC,aAAQ;AACNrD,cAAO,MADD;AAENR,eAAQ;AAFF;AADK,IAAf;;AAOA,OAAI0D,KAAJ,EAAW;AACTE,YAAOC,MAAP,gBACKD,OAAOC,MADZ;AAEEC,iBAAU,UAFZ;AAGEC,eAAQ,GAHV;AAIEC,gBAAS,gBAJX;AAKEC,kBAAW;AALb;AAOD;;AAED,UACE;AAAA;AAAA,OAAK,OAAOL,OAAOC,MAAnB;AACE,6CAAQ,OAAO1F,KAAf,EAAsB,SAASwF,OAA/B;AADF,IADF;AAKD,EAvBoB,CAArB;;AAyBA,KAAMf,SAAS,SAATA,MAAS,QAA2C;AAAA,OAAxCpC,KAAwC,SAAxCA,KAAwC;AAAA,OAAjCyC,MAAiC,SAAjCA,MAAiC;AAAA,OAAzBG,QAAyB,SAAzBA,QAAyB;AAAA,OAAfc,QAAe,SAAfA,QAAe;;AACxD,OAAMN,SAAS;AACbO,WAAM;AACJ3D,mBADI;AAEJ4D,mBAAY,MAFR;AAGJtF,eAAQ,2BAHJ;AAIJmF,kBAAW,6BAJP;AAKJI,qBAAc,KALV;AAMJP,iBAAU,UANN;AAOJ7D,gBAAS,KAPL;AAQJf,gBAAS,MARL;AASJoF,iBAAU;AATN;AADO,IAAf;AAaA,OAAMxB,eAAe,SAAfA,YAAe,CAACnC,GAAD,EAAM7C,CAAN;AAAA,YAAYsF,SAAS,EAAEzC,QAAF,EAAO4D,QAAQ,KAAf,EAAT,EAAiCzG,CAAjC,CAAZ;AAAA,IAArB;;AAEA,UACE;AAAA;AAAA,OAAK,OAAO8F,OAAOO,IAAnB;AACGlB,YAAOuB,GAAP,CAAW,UAACvC,CAAD;AAAA,cACV,oBAAC,YAAD,IAAc,OAAOA,CAArB,EAAwB,KAAKA,CAA7B,EAAgC,SAASa,YAAzC,GADU;AAAA,MAAX;AADH,IADF;AAOD,EAvBD;;AAyBAF,QAAOY,YAAP,GAAsB;AACpBhD,UAAO,OADa;AAEpByC,WAAQ,CACN,SADM,EACK,SADL,EACgB,SADhB,EAC2B,SAD3B,EACsC,SADtC,EAEN,SAFM,EAEK,SAFL,EAEgB,SAFhB,EAE2B,SAF3B,EAEsC,SAFtC,EAGN,SAHM,EAGK,SAHL,EAGgB,SAHhB,EAG2B,SAH3B;AAFY,EAAtB;;mBASeL,M;;;;;;;;;;;;;;AC9Df;;;;;;;;;;;;AAEA,KAAM6B,cAAc,SAAdA,WAAc,CAACC,SAAD,EAA8B;AAAA,OAAlBC,IAAkB,uEAAX,MAAW;;AAChD;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA,uLACEpH,KADF,GACU,EAAEmG,OAAO,KAAT,EADV,QAEEkB,eAFF,GAEoB;AAAA,gBAAM,MAAK1G,QAAL,CAAc,EAAEwF,OAAO,IAAT,EAAd,CAAN;AAAA,QAFpB,QAGEmB,cAHF,GAGmB;AAAA,gBAAM,MAAK3G,QAAL,CAAc,EAAEwF,OAAO,KAAT,EAAd,CAAN;AAAA,QAHnB,QAKEoB,MALF,GAKW;AAAA,gBACP;AAAC,eAAD;AAAA,aAAM,aAAa,MAAKF,eAAxB,EAAyC,YAAY,MAAKC,cAA1D;AACE,yCAAC,SAAD,eAAe,MAAKvH,KAApB,EAA+B,MAAKC,KAApC;AADF,UADO;AAAA,QALX;AAAA;;AAAA;AAAA,KAA2B,gBAAMmH,SAAjC;AAWD,EAZD;;mBAceD,W;;;;;;;;;;;;AChBf,KAAMM,SAAS,SAATA,MAAS,OAA8C;AAAA,OAA3C5G,KAA2C,QAA3CA,KAA2C;AAAA,OAApC6G,KAAoC,QAApCA,KAAoC;AAAA,OAA7BrB,OAA6B,QAA7BA,OAA6B;AAAA,yBAApB7G,KAAoB;AAAA,OAApBA,KAAoB,8BAAZqB,KAAY;;AAC3D,OAAMyF,SAAS;AACbC,aAAQ;AACNO,mBAAYjG,KADN;AAEN6B,eAAQ,MAFF;AAGNQ,cAAO,MAHD;AAINyE,eAAQ;AAJF;AADK,IAAf;;AASA,OAAMC,cAAc,SAAdA,WAAc,CAACpH,CAAD;AAAA,YAAO6F,QAAQxF,KAAR,EAAeL,CAAf,CAAP;AAAA,IAApB;;AAEA,UACE,6BAAK,OAAO8F,OAAOC,MAAnB,EAA2B,SAASqB,WAApC,EAAiD,OAAOpI,KAAxD,GADF;AAGD,EAfD;;mBAiBeiI,M;;;;;;;;;;;;;;AClBf;;;;AACA;;;;;;;;;;;;KAEqBI,S;;;;;;;;;;;8BAKT;AAAA,WACApI,MADA,GACW,KAAKO,KADhB,CACAP,MADA;;;AAGR,cACE;AAAA;AAAA,WAAK,WAAU,eAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAI,kDAAG,WAAU,WAAb,GAAJ;AAAA;AAAiCA,oBAAOpB;AAAxC;AADF,UADF;AAIE;AAAA;AAAA;AAAA;AACe,oDADf;AAEE;AAAA;AAAA;AAAIoB,oBAAOqB,WAAP,IAAsB;AAAA;AAAA;AAAA;AAAA;AAA1B;AAFF,UAJF;AAQE;AAAA;AAAA;AAAA;AACS,gEAAW,OAAOrB,OAAOoB,KAAzB;AADT;AARF,QADF;AAcD;;;;;;AAtBkBgH,U,CACZ/F,S,GAAY;AACjBrC,WAAQ,iBAAU+D,MAAV,CAAiBxB;AADR,E;mBADA6F,S;;;;;;;;;;;;;;ACHrB;;;;AACA;;;;AACA;;;;;;;;;;;;KAEqBC,a;;;;;2BACLrI,M,EAAQsI,Q,EAAU;AAC9B,cACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AACe,gEAAW,OAAOtI,OAAOoB,KAAzB,EAAgC,OAAO,EAAvC,EAA2C,QAAQ,EAAnD,GADf;AAAA;AAAA;AADF,QADF;AAOD;;;AAED,0BAAab,KAAb,EAAoB;AAAA;;AAAA,+HACZA,KADY;;AAGlB,WAAKC,KAAL,GAAa;AACXC,2BAAoB;AADT,MAAb;AAHkB;AAMnB;;;;8BAES;AAAA;;AAAA,WACAA,kBADA,GACuB,KAAKD,KAD5B,CACAC,kBADA;AAAA,oBAEqB,KAAKF,KAF1B;AAAA,WAEAP,MAFA,UAEAA,MAFA;AAAA,WAEQqG,SAFR,UAEQA,QAFR;;;AAIR,cACE;AAAA;AAAA,WAAK,WAAU,oBAAf;AACE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAGE;AAAA;AAAA;AACE;AACE,mCAAoB5F,kBADtB;AAEE,gCAAiB,EAAEsB,QAAQ,iBAAV,EAFnB;AAGE,sBAAO/B,OAAOoB,KAHhB;AAIE,oCAAqB;AAAA,wBAAM,OAAKD,QAAL,CAAc,EAAEV,oBAAoB,IAAtB,EAAd,CAAN;AAAA,gBAJvB;AAKE,mCAAoB;AAAA,wBAAM,OAAKU,QAAL,CAAc,EAAEV,oBAAoB,KAAtB,EAAd,CAAN;AAAA,gBALtB;AAME,8BAAe,uBAACuB,eAAD;AAAA,wBAAqBA,oBAAoBhC,OAAOoB,KAA3B,IAAoCiF,UAAS,EAAEkC,KAAKvI,OAAOuI,GAAd,EAAmBnH,OAAOY,eAA1B,EAAT,CAAzD;AAAA,gBANjB;AAOE,uCAAwB,gCAACC,QAAD;AAAA,wBAAcoE,UAAS,EAAEkC,KAAKvI,OAAOuI,GAAd,EAAmBnH,OAAOa,QAA1B,EAAT,CAAd;AAAA;AAP1B;AADF;AAHF,UADF;AAgBE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAEE;AACE,mBAAK,GADP;AAEE,oBAAO,EAAEC,QAAQ,UAAV,EAFT;AAGE,oBAAOlC,OAAOqB,WAAP,IAAsB,EAH/B;AAIE,uBAAU,kBAACmH,CAAD;AAAA,sBAAOnC,UAAS,EAAEkC,KAAKvI,OAAOuI,GAAd,EAAmBlH,aAAamH,EAAE7E,MAAF,CAASzC,KAAzC,EAAT,CAAP;AAAA;AAJZ;AAFF;AAhBF,QADF;AA4BD;;;;;;mBAnDkBmH,a;;;;;;;;;;;;;;;;ACJrB;;;;AACA;;;;;;;;;;;;AAEA,KAAMI,eAAe,SAAfA,YAAe,CAACzC,KAAD,EAAQ0C,KAAR,EAAkB;AACrC,OAAMC,KAAK3C,MAAMrC,MAAjB;;AAEA,OAAIiF,OAAOtJ,OAAOuJ,MAAP,CAAc,EAAd,EAAkBH,KAAlB,CAAX;;AAEA,QAAK,IAAIvD,IAAI,CAAb,EAAgBA,IAAIwD,GAAGG,OAAH,CAAW9D,MAA/B,EAAuCG,GAAvC,EAA4C;AAC1C,SAAIwD,GAAGG,OAAH,CAAW3D,CAAX,EAAc4D,QAAlB,EAA4B;AAC1B,WAAI,CAACH,KAAKI,MAAL,CAAY,UAACC,CAAD;AAAA,gBAAOA,EAAEC,OAAF,KAAcP,GAAGG,OAAH,CAAW3D,CAAX,EAAcjE,KAAnC;AAAA,QAAZ,EAAsD8D,MAA3D,EAAmE;AACjE4D,cAAKvJ,IAAL,CAAU,EAAE6J,SAASP,GAAGG,OAAH,CAAW3D,CAAX,EAAcjE,KAAzB,EAAV;AACD;AACF,MAJD,MAIO;AACL,WAAI0H,KAAKI,MAAL,CAAY,UAACC,CAAD;AAAA,gBAAOA,EAAEC,OAAF,KAAcP,GAAGG,OAAH,CAAW3D,CAAX,EAAcjE,KAAnC;AAAA,QAAZ,EAAsD8D,MAA1D,EAAkE;AAChE4D,gBAAOA,KAAKI,MAAL,CAAY,UAACC,CAAD;AAAA,kBAAOA,EAAEC,OAAF,KAAcP,GAAGG,OAAH,CAAW3D,CAAX,EAAcjE,KAAnC;AAAA,UAAZ,CAAP;AACD;AACF;AACF;;AAED,UAAO0H,IAAP;AACD,EAlBD;;KAoBqBO,mB;;;;;;;;;;;yCAwCE;AACnB,YAAKC,0BAAL;AACD;;;0CAEqB;AACpB,YAAKA,0BAAL;AACD;;;gCAEWd,Q,EAAU;AACpB,cAAOhJ,OAAOC,IAAP,CAAY+I,QAAZ,EAAsBU,MAAtB,CAA6B,UAACK,CAAD;AAAA,gBAAOf,SAASe,CAAT,EAAYpJ,WAAZ,KAA4B,MAAnC;AAAA,QAA7B,EAAwEwH,GAAxE,CAA4E,UAAC4B,CAAD;AAAA,gBAAOf,SAASe,CAAT,CAAP;AAAA,QAA5E,CAAP;AACD;;;kDAE6B;AAAA,oBACW,KAAK9I,KADhB;AAAA,WACpBP,MADoB,UACpBA,MADoB;AAAA,WACZsI,QADY,UACZA,QADY;AAAA,WACFjC,QADE,UACFA,QADE;;;AAG5B,WAAI,CAACrG,OAAO4I,IAAZ,EAAkB;AAChB;AACD;;AAED,WAAMU,cAActJ,OAAO4I,IAAP,CAAYI,MAAZ,CAAmB,UAACC,CAAD;AAAA,gBAAO3J,OAAOC,IAAP,CAAY+I,QAAZ,EAAsBU,MAAtB,CAA6B,UAACK,CAAD;AAAA,kBAAOf,SAASe,CAAT,EAAYpJ,WAAZ,KAA4B,MAA5B,IAAsCqI,SAASe,CAAT,EAAYH,OAAZ,KAAwBD,EAAEC,OAAvE;AAAA,UAA7B,EAA6GlE,MAApH;AAAA,QAAnB,CAApB;;AAEA,WAAIsE,YAAYtE,MAAZ,KAAuBhF,OAAO4I,IAAP,CAAY5D,MAAvC,EAA+C;AAC7CqB,kBAAS,EAAEkC,KAAKvI,OAAOuI,GAAd,EAAmBK,MAAMU,WAAzB,EAAT;AACD;AACF;;;8BAES;AAAA,qBAC+B,KAAK/I,KADpC;AAAA,WACAP,MADA,WACAA,MADA;AAAA,WACQsI,QADR,WACQA,QADR;AAAA,WACkBjC,SADlB,WACkBA,QADlB;;AAER,WAAMuC,OAAO,KAAKW,UAAL,CAAgBjB,QAAhB,CAAb;;AAEA,cACE;AAAA;AAAA,WAAK,WAAU,oBAAf;AACE;AAAA;AAAA,aAAK,WAAU,YAAf;AACE;AAAA;AAAA;AACE,sBAAM,gEADR;AAEE,6BAFF;AAGE,qBAAK,GAHP;AAIE,sBAAOtI,OAAO4I,IAAP,GAAc5I,OAAO4I,IAAP,CAAYnB,GAAZ,CAAgB,UAACwB,CAAD;AAAA,wBAAOA,EAAEC,OAAT;AAAA,gBAAhB,CAAd,GAAkD,EAJ3D;AAKE,yBAAU,kBAACV,CAAD;AAAA,wBAAOnC,UAAS,EAACkC,KAAKvI,OAAOuI,GAAb,EAAkBK,MAAMH,aAAaD,CAAb,EAAgBxI,OAAO4I,IAAvB,CAAxB,EAAT,CAAP;AAAA,gBALZ;AAMGA,kBAAKnB,GAAL,CAAS,UAACwB,CAAD;AAAA,sBAAO;AAAA;AAAA,mBAAQ,KAAKA,EAAEC,OAAf,EAAwB,OAAOD,EAAEC,OAAjC;AAA2CD,mBAAErK;AAA7C,gBAAP;AAAA,cAAT;AANH;AADF;AADF,QADF;AAcD;;;qCAnFuBoB,M,EAAQsI,Q,EAAU;AACxC,WAAMkB,kBAAkB,SAAlBA,eAAkB,CAACP,CAAD,EAAO;AAC7B,aAAMQ,YAAYnK,OAAOC,IAAP,CAAY+I,QAAZ,EAAsBb,GAAtB,CAA0B,UAAC4B,CAAD;AAAA,kBAAOf,SAASe,CAAT,CAAP;AAAA,UAA1B,EAA8CL,MAA9C,CAAqD,UAACU,EAAD;AAAA,kBAAQA,GAAGR,OAAH,KAAeD,EAAEC,OAAzB;AAAA,UAArD,CAAlB;;AAEA,gBAAOO,UAAUzE,MAAV,GAAmB,EAAEpG,MAAM6K,UAAU,CAAV,EAAa7K,IAArB,EAA2BwC,OAAOqI,UAAU,CAAV,EAAarI,KAA/C,EAAnB,GAA4E,EAAExC,MAAM,EAAR,EAAYwC,OAAOuI,SAAnB,EAAnF;AACD,QAJD;;AAMA,cAAO,CAAC3J,OAAO4I,IAAP,IAAe,EAAhB,EAAoBnB,GAApB,CAAwB,UAACwB,CAAD;AAAA,6BAC1BA,CAD0B,EAE1BO,gBAAgBP,CAAhB,CAF0B;AAAA,QAAxB,CAAP;AAID;;;2BAEajJ,M,EAAQsI,Q,EAAU;AAC9B,WAAI,CAACtI,OAAO4I,IAAR,IAAgB,CAAC5I,OAAO4I,IAAP,CAAY5D,MAAjC,EAAyC;AACvC,gBAAO,MAAP;AACD;;AAED,cACE;AAAA;AAAA;AAAA;AAEE;AAAA;AAAA;AAEImE,+BAAoBS,eAApB,CAAoC5J,MAApC,EAA4CsI,QAA5C,EAAsDb,GAAtD,CAA0D,UAACwB,CAAD,EAAIY,MAAJ,EAAYC,aAAZ,EAA8B;AACtF,oBACE;AAAA;AAAA,iBAAM,KAAKb,EAAErK,IAAb,EAAmB,OAAO,EAAEuD,SAAS,cAAX,EAA2B4H,aAAa,KAAxC,EAA1B;AACE,oEAAW,OAAOd,EAAE7H,KAApB,EAA2B,OAAO,EAAlC,EAAsC,QAAQ,EAA9C,GADF;AAAA;AAGG6H,iBAAErK,IAHL;AAIGiL,0BAAWC,cAAc9E,MAAd,GAAuB,CAAlC,GAAsC,EAAtC,GAA2C;AAJ9C,cADF;AAQD,YATD;AAFJ;AAFF,QADF;AAmBD;;;;;;mBAtCkBmE,mB;;;;;;;;;;;;;;;;ACvBrB;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;gBAEqE,mBAAAa,CAAQ,EAAR,C;KAApDC,gB,YAATC,O;KAA2BC,c,YAAAA,c;KAAgBC,a,YAAAA,a;;AAEnD,KAAMC,gBAAgBJ,gBAAtB;;KAEMK,sB;;;AACJ,qCAAe;AAAA;;AAAA;;AAGb,SAAIC,oBAAoB,yBAAOC,UAAP,CAAkB,MAAlB,EAA0B1B,OAA1B,CAAkCyB,iBAA1D;;AAEA,SAAIA,qBAAqB,IAAzB,EAA+B;AAC7BA,2BAAoB,KAApB;AACD;;AAED,WAAK/J,KAAL,GAAa;AACXiK,uBAAgBF;AADL,MAAb;;AAIA,WAAKG,wBAAL,GAAgC,MAAKA,wBAAL,CAA8BC,IAA9B,OAAhC;AAba;AAcd;;;;yCAEoB;AACnB,yBAAQC,EAAR,CAAW,+BAAX,EAA4C,KAAKF,wBAAjD;AACD;;;4CAEuB;AACtB,yBAAQG,GAAR,CAAY,+BAAZ,EAA6C,KAAKH,wBAAlD;AACD;;;8CAEyBI,a,EAAe;AACvC,YAAK3J,QAAL,CAAc;AACZsJ,yBAAgBK;AADJ,QAAd;AAGD;;;iCAEYC,M,EAAQC,O,EAAS;AAC5B,WAAID,OAAOnL,OAAP,CAAeoL,OAAf,MAA4B,CAAC,CAAjC,EAAoC;AAClCD,gBAAO1L,IAAP,CAAY2L,OAAZ;AACD;AACF;;;yCAEoBD,M,EAAQC,O,EAAS;AACpC,WAAID,OAAOnL,OAAP,CAAeoL,OAAf,MAA4B,CAAC,CAAjC,EAAoC;AAClCD,gBAAO1L,IAAP,CAAY2L,OAAZ;AACD;AACF;;;wCAEmBC,U,EAAYC,c,EAAgBF,O,EAASG,S,EAAWnL,M,EAAQoL,O,EAAS;AACnF,WAAIC,uBAAJ;AACA,WAAIC,kCAAJ;AACA,WAAIC,cAAcJ,aAAa,EAA/B;;AAEA;AACA,WAAIF,WAAWD,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,aAAII,OAAJ,EAAa;AACXH,sBAAWD,OAAX,IAAsB,EAAtB;AACD,UAFD,MAEO;AACLC,sBAAWD,OAAX,IAAsB;AACpBQ,sCAAyB,IADL;AAEpBC,0BAAa,EAFO;AAGpBjK;AACE5C,qBAAMoM;AADR,gBAEKO,WAFL;AAHoB,YAAtB;;AASA,eAAIL,cAAJ,EAAoB;AAClBA,4BAAezL,OAAf,CAAuB,UAACiM,SAAD,EAAe;AACpC;AACA,mBAAIA,cAAc,MAAlB,EAA0B;AACxB;AACD;;AAEDT,0BAAWD,OAAX,EAAoBS,WAApB,CAAgCC,SAAhC,IAA6C,EAA7C;AACD,cAPD;AAQD;AACF;AACF;;AAEDL,wBAAiBJ,WAAWD,OAAX,CAAjB;;AAEA,WAAII,OAAJ,EAAa;AACX,aAAIpL,MAAJ,EAAY;AACVqL,0BAAehM,IAAf,CAAoBW,MAApB;AACD;AACD;AACD;;AAED,WAAI,CAACA,MAAL,EAAa;AACX;AACD;;AAED,WAAIqL,eAAeI,WAAf,CAA2BzL,OAAOC,WAAlC,KAAkD,IAAtD,EAA4D;AAC1DoL,wBAAeI,WAAf,CAA2BzL,OAAOC,WAAlC,IAAiD,EAAjD;AACD;;AAEDqL,mCAA4BD,eAAeI,WAAf,CAA2BzL,OAAOC,WAAlC,CAA5B;;AAEAqL,iCAA0BjM,IAA1B,CAA+BW,MAA/B;AACD;;;wCAEmBR,U,EAAY8I,Q,EAAU;AAAA;;AACxC,WAAIyC,SAAS,EAAb;AACA,WAAIY,cAAc,EAAlB;AACA,WAAIC,kBAAkBtM,OAAOC,IAAP,CAAYC,UAAZ,CAAtB;AACA,WAAIqM,iBAAiB,yBAAOC,aAAP,GAAuBlD,IAAvB,IAA+B,EAApD;AACA,WAAImD,iBAAiB,EAArB;;AAEA;AACAF,sBAAepM,OAAf,CAAuB,UAACuM,SAAD,EAAe;AACpC,aAAMC,UAAU,4BAAaJ,cAAb,EAA6BG,UAAU9C,OAAvC,CAAhB;;AAEA,gBAAKgD,kBAAL,CAAwBP,WAAxB,EAAqCC,eAArC,EAAsDK,QAAQrN,IAA9D,EAAoE;AAClEsK,oBAAS+C,QAAQ/C,OADiD;AAElE9H,kBAAO6K,QAAQ7K,KAFmD;AAGlE+K,sBAAW;AAHuD,UAApE,EAIGxC,SAJH;AAKD,QARD;;AAUA;AACAU,qBAAc5K,OAAd,CAAsB,UAAC2M,gBAAD,EAAsB;AAC1C,aAAIhB,UAAU,KAAd;;AAEA,aAAIgB,qBAAqBhC,aAAzB,EAAwC;AACtCgB,qBAAU,IAAV;AACD;;AAED,gBAAKc,kBAAL,CAAwBP,WAAxB,EAAqCC,eAArC,EAAsDQ,gBAAtD,EAAwEzC,SAAxE,EAAmFA,SAAnF,EAA8FyB,OAA9F;AACD,QARD;;AAUAQ,uBAAgBnM,OAAhB,CAAwB,UAACC,aAAD,EAAmB;AACzC,aAAM2M,gBAAgB/D,SAAS5I,aAAT,CAAtB;;AAEA,aAAI,CAAC2M,aAAL,EAAoB;AAClB;AACD;;AAED,aAAIC,qBAAqBD,cAAcrH,MAAvC;;AAEA,cAAK,IAAIuH,IAAI,CAAb,EAAgBA,IAAID,kBAApB,EAAwCC,GAAxC,EAA6C;AAC3C,eAAMvM,SAASqM,cAAcE,CAAd,CAAf;;AAEA,eAAI7M,kBAAkB,MAAtB,EAA8B;AAC5B;AACA,oBAAKwM,kBAAL,CAAwBP,WAAxB,EAAqCC,eAArC,EAAsDxB,aAAtD,EAAqET,SAArE,EAAgF3J,MAAhF,EAAwF,IAAxF;AACA;AACD;;AAED,eAAI,CAACwM,MAAMC,OAAN,CAAczM,OAAO4I,IAArB,CAAD,IAA+B5I,OAAO4I,IAAP,CAAY5D,MAAZ,KAAuB,CAA1D,EAA6D;AAC3D;AACA,oBAAKkH,kBAAL,CAAwBP,WAAxB,EAAqCC,eAArC,EAAsDzB,cAAtD,EAAsER,SAAtE,EAAiF3J,MAAjF;AACA;AACD;;AAED,eAAI0M,YAAY1M,OAAO4I,IAAP,CAAY5D,MAA5B;;AAEA,gBAAK,IAAIqE,IAAI,CAAb,EAAgBA,IAAIqD,SAApB,EAA+BrD,GAA/B,EAAoC;AAClC,iBAAM2C,YAAYhM,OAAO4I,IAAP,CAAYS,CAAZ,CAAlB;AACA,iBAAM4C,UAAU,4BAAaJ,cAAb,EAA6BG,UAAU9C,OAAvC,CAAhB;;AAEA,iBAAI,CAAC+C,OAAL,EAAc;AACZ;AACD;;AAED,oBAAKU,WAAL,CAAiB5B,MAAjB,EAAyBkB,QAAQrN,IAAjC;AACA,oBAAKgO,mBAAL,CAAyBb,cAAzB,EAAyCE,QAAQrN,IAAjD;AACA,oBAAKsN,kBAAL,CAAwBP,WAAxB,EAAqCC,eAArC,EAAsDK,QAAQrN,IAA9D,EAAoE+K,SAApE,EAA+E3J,MAA/E;AACD;AACF;AACF,QAvCD;;AAyCA;AACA;AACA6L,sBAAepM,OAAf,CAAuB,UAACuM,SAAD,EAAe;AACpC,aAAID,eAAenM,OAAf,CAAuBoM,UAAUpN,IAAjC,MAA2C,CAAC,CAAhD,EAAmD;AACjD,kBAAK+N,WAAL,CAAiB5B,MAAjB,EAAyBiB,UAAUpN,IAAnC;AACD;AACF,QAJD;;AAMA;AACAyL,qBAAc5K,OAAd,CAAsB,UAACoN,KAAD,EAAW;AAC/B,gBAAKF,WAAL,CAAiB5B,MAAjB,EAAyB8B,KAAzB;AACD,QAFD;;AAIA,cAAO;AACL9B,uBADK;AAEL+B,wBAAenB;AAFV,QAAP;AAID;;;8BAES;AAAA;;AAAA,WACAlJ,eADA,GACoB,KAAKlC,KADzB,CACAkC,eADA;;;AAGR,cACE;AAAA;AAAA,WAAK,OAAOA,eAAZ;AAKG,yBAAMsK,YAAN,CAAmB,KAAKxM,KAAL,CAAWyM,QAA9B,EAAwC,EAAxC,EAA4C,gBAKvC;AAAA,eAJJC,iBAII,QAJJA,iBAII;AAAA,eAHJC,mBAGI,QAHJA,mBAGI;AAAA,eAFJ1N,UAEI,QAFJA,UAEI;AAAA,eADJ8I,QACI,QADJA,QACI;AAAA,eACImC,cADJ,GACuB,OAAKjK,KAD5B,CACIiK,cADJ;;;AAGJ,eAAI,CAACA,cAAL,EAAqB;AACnB,oBAAOwC,kBAAkBzN,UAAlB,EAA8B8I,QAA9B,CAAP;AACD;;AALG,qCAO4B,OAAK6E,kBAAL,CAAwB3N,UAAxB,EAAoC8I,QAApC,CAP5B;AAAA,eAOEyC,MAPF,uBAOEA,MAPF;AAAA,eAOU+B,aAPV,uBAOUA,aAPV;;AASJ,kBAAO/B,OAAOtD,GAAP,CAAW,UAAC2F,SAAD,EAAe;AAC/B,oBAAOF,oBAAoBE,SAApB,EAA+BN,cAAcM,SAAd,KAA4B,EAA3D,CAAP;AACD,YAFM,CAAP;AAGD,UAjBA;AALH,QADF;AA0BD;;;;;;mBAGY9C,sB;;;;;;;;;;;;ACnOf;;;;;;AAEA,KAAM+C,UAAU,qBAAhB;;mBAEeA,O;;;;;;ACJf,eAAc,cAAc,sBAAsB,uBAAuB,cAAc,EAAE,iBAAiB,aAAa,mBAAmB,0BAA0B,kBAAkB,oBAAoB,wCAAwC,KAAK,IAAI;AAC3P,iC;;;;;;;;;;;;mBCAe,UAACC,MAAD,EAASC,UAAT,EAAwB;AACrC,OAAIC,YAAJ;;AAEA,OAAMC,QAAQH,OAAOI,IAAP,CAAY,UAACC,QAAD,EAAc;AACtCH,WAAMG,QAAN;AACA,YAAOA,SAASzE,OAAT,KAAqBqE,UAA5B;AACD,IAHa,CAAd;;AAKA,OAAIE,KAAJ,EAAW;AACT,YAAOD,GAAP;AACD;;AAED,UAAO7D,SAAP;AACD,E;;;;;;;;ACbD,KAAIQ,iBAAiB,uBAArB;AACA,KAAIC,gBAAgB,MAApB;AACA,KAAIH,mBAAmB,CAACE,cAAD,EAAiBC,aAAjB,CAAvB;;AAEAwD,QAAOC,OAAP,CAAe3D,OAAf,GAAyBD,gBAAzB;AACA2D,QAAOC,OAAP,CAAe1D,cAAf,GAAgCA,cAAhC;AACAyD,QAAOC,OAAP,CAAezD,aAAf,GAA+BA,aAA/B,C;;;;;;;;;;;;;;ACPA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;KAEM0D,oB;;;AACJ,iCAAavN,KAAb,EAAoB;AAAA;;AAAA,6IACZA,KADY;;AAGlB,SAAIgK,oBAAoB,yBAAOC,UAAP,CAAkB,MAAlB,EAA0B1B,OAA1B,CAAkCyB,iBAA1D;;AAEA,SAAIA,qBAAqB,IAAzB,EAA+B;AAC7BA,2BAAoB,KAApB;AACD;;AAED,WAAK/J,KAAL,GAAa;AACXiK,uBAAgBF,iBADL;AAEXwD,wBAAiB,KAFN;AAGXC,uBAAgB,KAHL;AAIXC,qBAAc;AAJH,MAAb;;AAOA,WAAKvD,wBAAL,GAAgC,MAAKA,wBAAL,CAA8BC,IAA9B,OAAhC;AACA,WAAKuD,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBvD,IAAvB,OAAzB;AAjBkB;AAkBnB;;;;gDAE2B;AAAA;;AAC1B,YAAKxJ,QAAL,CAAc,UAACgN,SAAD,EAAe;AAC3B,gBAAO;AACL1D,2BAAgB,CAAC0D,UAAU1D;AADtB,UAAP;AAGD,QAJD,EAIG,YAAM;AACP;AACA,2BAAQ2D,IAAR,CAAa,+BAAb,EAA8C,OAAK5N,KAAL,CAAWiK,cAAzD;AACD,QAPD;AAQD;;;uCAEkBwD,Y,EAAc;AAAA,WACvBI,SADuB,GACT,KAAK9N,KADI,CACvB8N,SADuB;;AAE/B,WAAMC,WAAWL,aAAajJ,MAAb,GAAsB,CAAvC;;AAEAqJ,iBAAU;AACRzF,eAAMqF;AADE,QAAV;;AAIA,YAAK9M,QAAL,CAAc;AACZ8M,mCADY;AAEZD,yBAAgBM;AAFJ,QAAd;AAID;;;8BAES;AAAA;;AAAA,oBAMJ,KAAK9N,KAND;AAAA,WAENiK,cAFM,UAENA,cAFM;AAAA,WAGNsD,eAHM,UAGNA,eAHM;AAAA,WAINC,cAJM,UAINA,cAJM;AAAA,WAKNC,YALM,UAKNA,YALM;;;AAQR,cACE;AAAA;AAAA,WAAK,OAAO,EAAE9L,SAAS,cAAX,EAAZ;AACE;AACE,uBAAY4L,eADd;AAEE,mBAAQC,cAFV;AAGE,yBAAcC,YAHhB;AAIE,oBAAS;AAAA,oBAAM,OAAK9M,QAAL,CAAc,EAAE4M,iBAAiB,IAAnB,EAAd,CAAN;AAAA,YAJX;AAKE,8BAAmB,KAAKG,iBAL1B;AAME,0BAAe;AAAA,oBAAM,OAAK/M,QAAL,CAAc,EAAE4M,iBAAiB,KAAnB,EAAd,CAAN;AAAA;AANjB,WADF;AASE;AACE,mBAAQtD,cADV;AAEE,oBAAS,KAAKC;AAFhB;AATF,QADF;AAgBD;;;;;;mBAGYoD,oB;;;;;;;;;;;;;;AC/Ef;;;;AACA;;;;;;;;;;KAEMS,kC;;;;;;;;;;;8BACM;AAAA,oBACoB,KAAKhO,KADzB;AAAA,WACAqG,OADA,UACAA,OADA;AAAA,WACS4H,MADT,UACSA,MADT;;;AAGR,cACE;AAAA;AAAA,WAAK,OAAM,+BAAX,EAA2C,OAAO,EAAErM,SAAS,cAAX,EAA2BsM,YAAY,QAAvC,EAAiD1E,aAAa,QAA9D,EAAlD;AACE;AAAA;AAAA,aAAkB,QAAQyE,MAA1B,EAAkC,SAAS5H,OAA3C;AACE,gDAAG,WAAU,YAAb;AADF;AADF,QADF;AAOD;;;;;;mBAGY2H,kC;;;;;;;;;;;;;;ACjBf;;;;AACA;;;;AACA;;;;;;;;;;;;KAEMG,gC;;;;;;;;;;;8BACM;AACR,WAAMC,UAAU,yBAAO7C,aAAP,GAAuBlD,IAAvC;;AADQ,oBAUJ,KAAKrI,KAVD;AAAA,WAINiO,MAJM,UAINA,MAJM;AAAA,WAKNI,UALM,UAKNA,UALM;AAAA,WAMNX,YANM,UAMNA,YANM;AAAA,WAONrH,OAPM,UAONA,OAPM;AAAA,WAQNsH,iBARM,UAQNA,iBARM;AAAA,WASNW,aATM,UASNA,aATM;;;AAYR,cACE;AAAA;AAAA,WAAK,OAAM,6BAAX,EAAyC,OAAO,EAAE1M,SAAS,cAAX,EAA2BsM,YAAY,QAAvC,EAAiD1E,aAAa,QAA9D,EAAhD;AACE;AAAA;AAAA,aAAkB,QAAQyE,MAA1B,EAAkC,SAAS5H,OAA3C;AACE;AAAA;AAAA,eAAM,OAAO,EAAEzE,SAAS,cAAX,EAAb;AACE,kDAAG,WAAU,cAAb,GADF;AAAA;AAGE,kDAAG,WAAU,WAAb;AAHF;AADF,UADF;AAQE;AAAA;AAAA;AACE,mBAAMyM,UADR;AAEE,sBAASC;AAFX;AAIE;AACE,mBAAMF,OADR;AAEE,2BAAcV,YAFhB;AAGE,gCAAmBC,iBAHrB;AAIE,4BAAeW;AAJjB;AAJF;AARF,QADF;AAsBD;;;;;;mBAGYH,gC;;;;;;;;;;;;;;AC1Cf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;KAEMI,yB;;;AACJ,sCAAavO,KAAb,EAAoB;AAAA;;AAAA,uJACZA,KADY;;AAGlB,WAAKC,KAAL,GAAa;AACXuO,qBAAc,IADH;AAEXC,mBAAY;AAFD,MAAb;;AAKA,WAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBtE,IAApB,OAAtB;AACA,WAAKuE,cAAL,GAAsB,MAAKA,cAAL,CAAoBvE,IAApB,OAAtB;AACA,WAAKwE,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBxE,IAAzB,OAA3B;AACA,WAAKyE,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBzE,IAAtB,OAAxB;AACA,WAAK0E,iBAAL,GAAyB,MAAKA,iBAAL,CAAuB1E,IAAvB,OAAzB;AACA,WAAK2E,eAAL,GAAuB,MAAKA,eAAL,CAAqB3E,IAArB,OAAvB;AAbkB;AAcnB;;;;yCAEoB;AACnB,YAAK7J,KAAL;AACD;;;oCAEe8H,I,EAAM;AAAA;;AACpB,cAAO,UAAC2G,KAAD,EAAQvO,GAAR;AAAA,gBAAgB,OAAKwO,aAAL,CAAmB5G,KAAK2G,KAAL,CAAnB,CAAhB;AAAA,QAAP;AACD;;;oCAEe/B,G,EAAK;AACnB,WAAMiC,uBAAuB,KAAKlP,KAAL,CAAW0N,YAAxC;;AAEA,WAAMA,4CACDwB,oBADC,IAEJjC,GAFI,EAAN;;AAKA,YAAKjN,KAAL,CAAW2N,iBAAX,CAA6BD,YAA7B;AACA,YAAKnN,KAAL;AACD;;;6BAEQ;AACP,WAAI,KAAKD,IAAL,CAAU6O,iBAAV,IAA+B,OAAO,KAAK7O,IAAL,CAAU6O,iBAAV,CAA4B5O,KAAnC,KAA6C,UAAhF,EAA4F;AAC1F,cAAKD,IAAL,CAAU6O,iBAAV,CAA4B5O,KAA5B;AACD;AACF;;;mCAEc6N,O,EAASV,Y,EAAce,U,EAAY;AAChD,WAAIf,aAAajJ,MAAb,KAAwB,CAAxB,IAA6BgK,eAAe,EAAhD,EAAoD;AAClD,gBAAOL,OAAP;AACD;;AAED,cAAOA,QAAQ3F,MAAR,CAAe,UAACwE,GAAD,EAAS;AAC7B,aAAImC,aAAa,IAAjB;;AAEA,aAAIX,eAAe,EAAnB,EAAuB;AACrBW,wBAAanC,IAAI5O,IAAJ,CAASgB,OAAT,CAAiBoP,UAAjB,MAAiC,CAAC,CAA/C;AACD;;AAED,aAAI,CAACW,UAAL,EAAiB;AACf,kBAAO,KAAP;AACD;;AAED,aAAMC,sBAAsB3B,aAAaP,IAAb,CAAkB,UAACmC,SAAD,EAAe;AAC3D,kBAAOA,UAAU3G,OAAV,KAAsBsE,IAAItE,OAAjC;AACD,UAF2B,CAA5B;;AAIA,gBAAO,CAAC0G,mBAAR;AACD,QAhBM,CAAP;AAiBD;;;yCAEoBlM,E,EAAI;AACvB;AACA;AACA,WAAIA,GAAGC,MAAH,KAAc,KAAK9C,IAAL,CAAUiP,YAA5B,EAA0C;AACxC,cAAKhP,KAAL;AACD;AACF;;;sCAEiB4C,E,EAAI;AACpB,YAAKvC,QAAL,CAAc;AACZ6N,qBAAYtL,GAAGC,MAAH,CAAUzC;AADV,QAAd;AAGD;;;uCAEkBwC,E,EAAI;AACrB,WAAIA,GAAGqM,gBAAP,EAAyB;AACvB;AACD;;AAED,WAAIC,UAAUtM,GAAGsM,OAAjB;AACA,WAAIC,WAAWvM,GAAGC,MAAlB;AACA,WAAIuM,SAAS,KAAb;AACA,WAAIC,WAAW,EAAf;AACA,WAAIC,YAAY,CAAhB;;AAEA,WAAIJ,YAAYG,QAAhB,EAA0B;AACxBzM,YAAG2M,cAAH;;AAEA,gBAAO,KAAK9P,KAAL,CAAWsO,aAAX,EAAP;AACD;;AAED,WAAImB,YAAYI,SAAhB,EAA2B;AACzBF,kBAAS,IAAT;AACD;;AAED,WAAIA,UAAUD,SAAS/O,KAAT,KAAmB,EAAjC,EAAqC;AACnC,aAAI+M,eAAe,KAAK1N,KAAL,CAAW0N,YAA9B;AACA,aAAIqC,wBAAwBrC,aAAajJ,MAAb,GAAsB,CAAlD;;AAEAtB,YAAG2M,cAAH;;AAEA,aAAIC,yBAAyB,CAA7B,EAAgC;AAC9B,gBAAKhB,eAAL,CAAqBrB,aAAaqC,qBAAb,CAArB,EAA0DA,qBAA1D;AACD;AACF;AACF;;;qCAEgB9C,G,EAAK+C,Q,EAAU;AAC9B,WAAMC,uBAAuB,KAAKjQ,KAAL,CAAW0N,YAAxC;;AAEA,WAAMA,4CACDuC,qBAAqBC,KAArB,CAA2B,CAA3B,EAA8BF,QAA9B,CADC,sBAEDC,qBAAqBC,KAArB,CAA2BF,WAAW,CAAtC,CAFC,EAAN;;AAKA,YAAKhQ,KAAL,CAAW2N,iBAAX,CAA6BD,YAA7B;AACD;;;mCAEcT,G,EAAK;AAAA;;AAClB,cACE;AAAA;AAAA;AACE,gBAAKA,IAAItE,OADX;AAEE,sBAAW,oCAAMwH,YAFnB;AAGE,oBAAS;AAAA,oBAAM,OAAKxB,cAAL,CAAoB1B,GAApB,CAAN;AAAA;AAHX;AAKE,8DAAW,OAAOA,IAAIpM,KAAtB,GALF;AAAA;AAOE;AAAA;AAAA;AAAOoM,eAAI5O;AAAX;AAPF,QADF;AAWD;;;8BAES;AAAA;;AAAA,oBAC6B,KAAK4B,KADlC;AAAA,WACAuO,YADA,UACAA,YADA;AAAA,WACcC,UADd,UACcA,UADd;AAAA,oBAEuB,KAAKzO,KAF5B;AAAA,WAEAqI,IAFA,UAEAA,IAFA;AAAA,WAEMqF,YAFN,UAEMA,YAFN;;AAGR,WAAM0C,mBAAmB,KAAKC,aAAL,CAAmBhI,IAAnB,EAAyBqF,YAAzB,EAAuCe,UAAvC,CAAzB;;AAEA,WAAI6B,oBAAoB,EAAxB;AACA,WAAIC,oBAAoB,EAAxB;;AAEA,WAAI/B,YAAJ,EAAkB;AAChB8B,2BAAkB1O,OAAlB,GAA4B,OAA5B;AACD,QAFD,MAEO;AACL0O,2BAAkB1O,OAAlB,GAA4B,MAA5B;AACD;;AAED,WAAI8L,aAAajJ,MAAb,KAAwB,CAA5B,EAA+B;AAC7B8L,2BAAkBrN,KAAlB,GAA0B,MAA1B;AACD;;AAED,cACE;AAAA;AAAA,WAAK,WAAW,oCAAMsN,mBAAtB;AACE;AAAA;AAAA,aAAK,WAAW,oCAAMC,kBAAtB;AACE;AAAA;AAAA,eAAK,KAAI,cAAT,EAAwB,WAAW,oCAAMC,UAAzC,EAAqD,SAAS,KAAK9B,mBAAnE;AACE;AAAA;AAAA;AACGlB,4BAAaxG,GAAb,CAAiB,UAAC+F,GAAD,EAAM+C,QAAN,EAAmB;AACnC,qBAAMW,YAAY;AAChBhN,oCAAiBsJ,IAAIpM,KADL;AAEhB6C,gCAAa,8BAAeuJ,IAAIpM,KAAnB,EAA0B,CAAC,IAA3B,CAFG;AAGhBA,0BAAO,iCAAkBoM,IAAIpM,KAAtB,KAAgC,GAAhC,GAAsC,MAAtC,GAA+C;AAHtC,kBAAlB;;AAMA,wBACE;AAAA;AAAA,qBAAM,KAAKoM,IAAItE,OAAf,EAAwB,WAAW,oCAAMiI,cAAzC,EAAyD,OAAOD,SAAhE;AACG1D,uBAAI5O,IADP;AAEE,wDAAG,WAAW,oCAAMwS,oBAApB,EAA0C,SAAS;AAAA,8BAAM,OAAK9B,eAAL,CAAqB9B,GAArB,EAA0B+C,QAA1B,CAAN;AAAA,sBAAnD;AAFF,kBADF;AAMD,gBAbA,CADH;AAeE;AACE,sBAAI,mBADN;AAEE,uBAAK,MAFP;AAGE,8BAAatC,aAAajJ,MAAb,KAAwB,CAAxB,GAA4B,cAA5B,GAA6C,EAH5D;AAIE,4BAAW,oCAAMqM,UAJnB;AAKE,wBAAOP,iBALT;AAME,2BAAU,KAAK1B,gBANjB;AAOE,4BAAW,KAAKC;AAPlB;AAfF;AADF;AADF,UADF;AA8BE;AAAA;AAAA;AACE,kBAAI,SADN;AAEE,wBAAW,oCAAMiC,iBAFnB;AAGE,oBAAOT;AAHT;AAKE;AAAA;AAAA,eAAK,WAAW,oCAAMU,QAAtB;AACG3I,kBAAK5D,MAAL,KAAgB,CAAhB,GACC;AAAA;AAAA,iBAAK,WAAW,oCAAMwM,aAAtB;AAAA;AAAA,cADD,GAKC;AACE,6BAAc,KAAKvC,cAAL,CAAoB0B,gBAApB,CADhB;AAEE,uBAAQA,iBAAiB3L;AAF3B;AANJ;AALF;AA9BF,QADF;AAmDD;;;;;;AAGH8J,2BAA0BrI,YAA1B,GAAyC;AACvCyH,sBAAmB,6BAAM,CAAE;AADY,EAAzC;;AAIAY,2BAA0BzM,SAA1B,GAAsC;AACpCuG,SAAM,iBAAU6I,OAAV,CAAkB,iBAAUC,KAAV,CAAgB;AACtCxI,cAAS,iBAAUpF,MADmB;AAEtClF,WAAM,iBAAUkF,MAFsB;AAGtC1C,YAAO,iBAAU0C;AAHqB,IAAhB,CAAlB,CAD8B;AAMpCmK,iBAAc,iBAAUwD,OAAV,CAAkB,iBAAUC,KAAV,CAAgB;AAC9CxI,cAAS,iBAAUpF,MAD2B;AAE9ClF,WAAM,iBAAUkF,MAF8B;AAG9C1C,YAAO,iBAAU0C;AAH6B,IAAhB,CAAlB,CANsB;AAWpCoK,sBAAmB,iBAAU5L,IAXO;AAYpCuM,kBAAe,iBAAUvM;AAZW,EAAtC;;mBAeewM,yB;;;;;;AC7Of,iD;;;;;;;;;;;;ACAA;;;;;;mBAEe,UAAClL,GAAD,EAAS;AACtB,OAAMqB,MAAM,wBAASrB,GAAT,CAAZ;;AAEA,OAAI+N,cAAJ;AAAA,OAAWC,cAAX;AAAA,OAAkBC,cAAlB;AAAA,OAAyBC,UAAzB;AAAA,OAA4BC,UAA5B;AAAA,OAA+BC,UAA/B;;AAEAL,WAAQ1M,IAAIgN,CAAJ,GAAQ,GAAhB;AACAL,WAAQ3M,IAAIiN,CAAJ,GAAQ,GAAhB;AACAL,WAAQ5M,IAAIkN,CAAJ,GAAQ,GAAhB;;AAEA,OAAIR,SAAS,OAAb,EAAsB;AACpBG,SAAIH,QAAQ,KAAZ;AACD,IAFD,MAEO;AACLG,SAAIxM,KAAK8M,GAAL,CAAU,CAACT,QAAQ,KAAT,IAAkB,KAA5B,EAAoC,GAApC,CAAJ;AACD;;AAED,OAAIC,SAAS,OAAb,EAAsB;AACpBG,SAAIH,QAAQ,KAAZ;AACD,IAFD,MAEO;AACLG,SAAIzM,KAAK8M,GAAL,CAAU,CAACR,QAAQ,KAAT,IAAkB,KAA5B,EAAoC,GAApC,CAAJ;AACD;;AAED,OAAIC,SAAS,OAAb,EAAsB;AACpBG,SAAIH,QAAQ,KAAZ;AACD,IAFD,MAEO;AACLG,SAAI1M,KAAK8M,GAAL,CAAU,CAACP,QAAQ,KAAT,IAAkB,KAA5B,EAAoC,GAApC,CAAJ;AACD;;AAED,UAAQ,SAASC,CAAV,GAAgB,SAASC,CAAzB,GAA+B,SAASC,CAA/C;AACD,E;;;;;;;;;;;;AC7BD,KAAMK,iBAAiB,kCAAvB;;mBAEe,UAACzO,GAAD,EAAS;AACtB;AACA,OAAI0O,UAAU1O,IAAImB,OAAJ,CAAYsN,cAAZ,EAA4B,UAAUE,CAAV,EAAaN,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsB;AAC9D,YAAOF,IAAIA,CAAJ,GAAQC,CAAR,GAAYA,CAAZ,GAAgBC,CAAhB,GAAoBA,CAA3B;AACD,IAFa,CAAd;;AAIA,OAAIK,SAAS,4CAA4CC,IAA5C,CAAiDH,OAAjD,CAAb;;AAEA,UAAOE,SAAS;AACdP,QAAG7M,SAASoN,OAAO,CAAP,CAAT,EAAoB,EAApB,CADW;AAEdN,QAAG9M,SAASoN,OAAO,CAAP,CAAT,EAAoB,EAApB,CAFW;AAGdL,QAAG/M,SAASoN,OAAO,CAAP,CAAT,EAAoB,EAApB;AAHW,IAAT,GAIH,IAJJ;AAKD,E;;;;;;AChBD;;AAEA;AACA;AACA;AACA;AACA,iDAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,8CAA6C,gCAAgC,0BAA0B,yBAAyB,0BAA0B,uBAAuB,GAAG,iCAAiC,0BAA0B,yBAAyB,0BAA0B,uBAAuB,GAAG,wCAAwC,wBAAwB,yBAAyB,mBAAmB,6BAA6B,uBAAuB,GAAG,yBAAyB,iBAAiB,2BAA2B,4BAA4B,oBAAoB,gBAAgB,GAAG,2DAA2D,2BAA2B,GAAG,gCAAgC,mBAAmB,sBAAsB,uBAAuB,GAAG,uBAAuB,2BAA2B,yCAAyC,+CAA+C,0BAA0B,mBAAmB,uBAAuB,aAAa,gBAAgB,eAAe,GAAG,4BAA4B,wBAAwB,2BAA2B,uBAAuB,GAAG,2BAA2B,oBAAoB,2BAA2B,yBAAyB,0BAA0B,wBAAwB,GAAG,iCAAiC,8BAA8B,gBAAgB,GAAG,yBAAyB,0BAA0B,uBAAuB,iBAAiB,GAAG,6BAA6B,kCAAkC,uBAAuB,0BAA0B,uBAAuB,qBAAqB,yBAAyB,2BAA2B,yBAAyB,0BAA0B,wBAAwB,GAAG,mCAAmC,oBAAoB,sBAAsB,GAAG,0CAA0C,uBAAuB,GAAG,UAAU,wJAAwJ,MAAM,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,WAAW,YAAY,aAAa,OAAO,KAAK,UAAU,YAAY,aAAa,aAAa,WAAW,MAAM,MAAM,YAAY,OAAO,KAAK,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,WAAW,YAAY,WAAW,UAAU,UAAU,MAAM,KAAK,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,WAAW,MAAM,KAAK,YAAY,aAAa,WAAW,MAAM,KAAK,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,OAAO,KAAK,WAAW,qFAAqF,wBAAwB,0BAA0B,yBAAyB,0BAA0B,uBAAuB,GAAG,yBAAyB,0BAA0B,yBAAyB,0BAA0B,uBAAuB,GAAG,gCAAgC,wBAAwB,yBAAyB,mBAAmB,6BAA6B,uBAAuB,GAAG,iBAAiB,iBAAiB,2BAA2B,4BAA4B,oBAAoB,gBAAgB,GAAG,2CAA2C,2BAA2B,GAAG,wBAAwB,mBAAmB,sBAAsB,uBAAuB,GAAG,eAAe,2BAA2B,yCAAyC,+CAA+C,0BAA0B,mBAAmB,uBAAuB,aAAa,gBAAgB,eAAe,GAAG,oBAAoB,wBAAwB,2BAA2B,uBAAuB,GAAG,mBAAmB,oBAAoB,2BAA2B,yBAAyB,0BAA0B,wBAAwB,GAAG,yBAAyB,8BAA8B,gBAAgB,GAAG,iBAAiB,0BAA0B,uBAAuB,iBAAiB,GAAG,qBAAqB,kCAAkC,uBAAuB,0BAA0B,uBAAuB,qBAAqB,yBAAyB,2BAA2B,yBAAyB,0BAA0B,wBAAwB,GAAG,2BAA2B,oBAAoB,sBAAsB,GAAG,kCAAkC,oBAAoB,GAAG,+BAA+B,4BAA4B,2BAA2B,4BAA4B,yBAAyB,KAAK,6BAA6B,4BAA4B,2BAA2B,4BAA4B,yBAAyB,KAAK,oCAAoC,0BAA0B,2BAA2B,qBAAqB,+BAA+B,yBAAyB,KAAK,qBAAqB,mBAAmB,6BAA6B,8BAA8B,sBAAsB,kBAAkB,KAAK,iDAAiD,6BAA6B,KAAK,4BAA4B,qBAAqB,wBAAwB,yBAAyB,KAAK,mBAAmB,6BAA6B,uCAAuC,6CAA6C,4BAA4B,qBAAqB,yBAAyB,eAAe,kBAAkB,iBAAiB,KAAK,wBAAwB,0BAA0B,6BAA6B,yBAAyB,KAAK,uBAAuB,sBAAsB,6BAA6B,2BAA2B,4BAA4B,0BAA0B,KAAK,6BAA6B,gCAAgC,kBAAkB,KAAK,qBAAqB,4BAA4B,yBAAyB,mBAAmB,KAAK,yBAAyB,oCAAoC,yBAAyB,4BAA4B,yBAAyB,uBAAuB,2BAA2B,6BAA6B,2BAA2B,4BAA4B,0BAA0B,KAAK,+BAA+B,sBAAsB,wBAAwB,KAAK,sCAAsC,sBAAsB,KAAK,iCAAiC;;AAE/mN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACrPA;;;;AACA;;;;AACA;;;;;;;;;;;;KAEME,iB;;;;;;;;;;;8BACM;AAAA,oBACqB,KAAKnS,KAD1B;AAAA,WACAP,MADA,UACAA,MADA;AAAA,WACQsI,QADR,UACQA,QADR;;AAER,WAAIM,OAAO5I,OAAO4I,IAAP,IAAe,EAA1B;;AAEA;AACA,WAAI5I,OAAOC,WAAP,KAAuB,MAA3B,EAAmC;AACjC2I,gBAAO,CAAC5I,MAAD,CAAP;AACD;;AAED,WAAM2S,aAAa/J,KAAK5D,MAAxB;;AAEA,cACE;AAAA;AAAA,WAAK,OAAO,EAAE7C,SAAS,cAAX,EAA2BsM,YAAY,QAAvC,EAAiD1E,aAAa,QAA9D,EAAZ;AACGnB,cAAKnB,GAAL,CAAS,UAAC+F,GAAD,EAAM+C,QAAN,EAAmB;AAC3B,eAAMqC,WAAW,4BAAatK,SAASM,IAAtB,EAA4B4E,IAAItE,OAAhC,KAA4C,EAA7D;;AAEA,kBACE;AAAA;AAAA,eAAM,KAAKsE,IAAItE,OAAf,EAAwB,OAAO0J,SAAShU,IAAxC;AACE,kEAAW,OAAOgU,SAASxR,KAA3B,EAAkC,OAAO,CAAzC,EAA4C,QAAQ,EAApD,GADF;AAEImP,0BAAaoC,aAAa,CAA3B,GAAgC,GAAhC,GAAsC;AAFzC,YADF;AAMD,UATA;AADH,QADF;AAcD;;;;;;mBAGYD,iB;;;;;;;;;;;;;;ACjCf;;;;AACA;;;;;;;;;;;;KAEMG,yB;;;;;;;;;;;8BACM;AAAA,oBAC2B,KAAKtS,KADhC;AAAA,WACA4L,SADA,UACAA,SADA;AAAA,WACWvN,IADX,UACWA,IADX;AAAA,WACiBwC,KADjB,UACiBA,KADjB;;;AAGR,WAAI+K,cAAc,MAAlB,EAA0B;AACxB,gBAAO,IAAP;AACD;;AAED,cACE;AAAA;AAAA,WAAM,OAAOvN,IAAb,EAAmB,OAAO,EAAEuD,SAAS,cAAX,EAA1B;AACE,8DAAW,OAAOf,KAAlB,EAAyB,OAAO,CAAhC,EAAmC,QAAQ,EAA3C,GADF;AAAA;AAAA,QADF;AAMD;;;;;;mBAGYyR,yB;;;;;;;;;;;;mBCnBA,UAAC7S,MAAD,EAASR,UAAT,EAAqBsT,UAArB,EAAoC;AAAA,OACzClK,IADyC,GAChCkK,UADgC,CACzClK,IADyC;;AAEjD,OAAMmK,kBAAkB/S,OAAO4I,IAAP,IAAe,EAAvC;;AAEA,OAAIA,QAAQ,IAAZ,EAAkB;AAChB,YAAO,IAAP;AACD;;AAED,OAAIA,KAAK5D,MAAL,GAAc,CAAlB,EAAqB;AACnB,YAAO4D,KAAKoK,KAAL,CAAW,UAACxF,GAAD,EAAS;AACzB,cAAOuF,gBAAgBrF,IAAhB,CAAqB,UAACuF,WAAD;AAAA,gBAAiBA,YAAY/J,OAAZ,KAAwBsE,IAAItE,OAA7C;AAAA,QAArB,CAAP;AACD,MAFM,CAAP;AAGD;;AAED,UAAO,IAAP;AACD,E","file":"./studio/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 358fea1ea98669f38735\n **/","import Studio from 'jsreport-studio'\r\nimport NewTagModal from './NewTagModal'\r\nimport TagEditor from './TagEditor'\r\nimport TagProperties from './TagProperties'\r\nimport EntityTagProperties from './EntityTagProperties'\r\nimport EntityTreeTagOrganizer from './EntityTreeTagOrganizer'\r\nimport TagEntityTreeToolbar from './TagEntityTreeToolbar'\r\nimport TagEntityTreeItem from './TagEntityTreeItem'\r\nimport TagEntityTreeTagGroupItem from './TagEntityTreeTagGroupItem'\r\nimport filterItemWithTagsStrategy from './filterItemWithTagsStrategy'\r\n\r\nStudio.addEntitySet({\r\n  name: 'tags',\r\n  faIcon: 'fa-tag',\r\n  visibleName: 'tag',\r\n  onNew: () => Studio.openModal(NewTagModal),\r\n  helpUrl: 'http://jsreport.net/learn/tags',\r\n  referenceAttributes: ['color'],\r\n  entityTreePosition: 300\r\n})\r\n\r\n// wait for all extensions to be loaded\r\nStudio.initializeListeners.push(() => {\r\n  // add tags to referenceAttributes in all entities\r\n  Object.keys(Studio.entitySets).forEach((entitySetName) => {\r\n    let entitySet = Studio.entitySets[entitySetName]\r\n\r\n    // ignore tags entity set\r\n    if (entitySet.name === 'tags') {\r\n      return\r\n    }\r\n\r\n    if (entitySet.referenceAttributes.indexOf('tags') === -1) {\r\n      entitySet.referenceAttributes.push('tags')\r\n    }\r\n  })\r\n})\r\n\r\nStudio.addEditorComponent('tags', TagEditor)\r\nStudio.addPropertiesComponent(TagProperties.title, TagProperties, (entity) => entity.__entitySet === 'tags')\r\nStudio.addPropertiesComponent(EntityTagProperties.title, EntityTagProperties, (entity) => entity.__entitySet !== 'tags')\r\n\r\nStudio.addEntityTreeWrapperComponent(EntityTreeTagOrganizer)\r\nStudio.addEntityTreeToolbarComponent(TagEntityTreeToolbar)\r\nStudio.addEntityTreeItemComponent(TagEntityTreeItem)\r\nStudio.addEntityTreeItemComponent(TagEntityTreeTagGroupItem, 'groupRight')\r\n\r\nStudio.entityTreeFilterItemResolvers.push(filterItemWithTagsStrategy)\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/main_dev.js\n **/","module.exports = Studio;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio\"\n ** module id = 1\n ** module chunks = 0\n **/","import React, { Component, PropTypes } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport ColorPicketTrigger from './ColorPickerTrigger'\r\n\r\nexport default class NewTagModal extends Component {\r\n  static propTypes = {\r\n    close: PropTypes.func.isRequired\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      displayColorPicker: false,\r\n      selectedColor: '',\r\n      error: null\r\n    }\r\n  }\r\n\r\n  // the modal component for some reason after open focuses the panel itself\r\n  componentDidMount () {\r\n    setTimeout(() => this.refs.name.focus(), 0)\r\n  }\r\n\r\n  handleKeyPress (e) {\r\n    if (e.key === 'Enter') {\r\n      this.createTag()\r\n    }\r\n  }\r\n\r\n  async createTag () {\r\n    let entity = {}\r\n\r\n    if (!this.refs.name.value) {\r\n      return this.setState({\r\n        error: 'name field cannot be empty'\r\n      })\r\n    }\r\n\r\n    if (!this.state.selectedColor) {\r\n      return this.setState({\r\n        error: 'color field cannot be empty'\r\n      })\r\n    }\r\n\r\n    entity.name = this.refs.name.value\r\n    entity.color = this.state.selectedColor\r\n    entity.description = this.refs.description.value\r\n\r\n    try {\r\n      let response = await Studio.api.post('/odata/tags', {\r\n        data: entity\r\n      })\r\n\r\n      response.__entitySet = 'tags'\r\n\r\n      Studio.addExistingEntity(response)\r\n      Studio.openTab(response)\r\n      this.props.close()\r\n    } catch (e) {\r\n      this.setState({\r\n        error: e.message\r\n      })\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      displayColorPicker,\r\n      selectedColor,\r\n      error\r\n    } = this.state\r\n\r\n    return (\r\n      <div>\r\n        <div className='form-group'>\r\n          <label>Name</label>\r\n          <input type='text' name='name' ref='name' placeholder='tag name...' onKeyPress={(e) => this.handleKeyPress(e)} />\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Color</label>\r\n\r\n          <div>\r\n            <ColorPicketTrigger\r\n              displayColorPicker={displayColorPicker}\r\n              containerStyles={{ border: '1px dashed #000' }}\r\n              color={selectedColor}\r\n              onClickColorTrigger={() => this.setState({ displayColorPicker: true })}\r\n              onCloseColorPicker={() => this.setState({ displayColorPicker: false })}\r\n              onInputChange={(colorInputValue) => colorInputValue !== selectedColor && this.setState({ selectedColor: colorInputValue })}\r\n              onChangeSelectionColor={(colorHex) => this.setState({ selectedColor: colorHex })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Description</label>\r\n          <textarea\r\n            name='description'\r\n            ref='description'\r\n            placeholder='You can add more details about this tag here...'\r\n            rows='4'\r\n            style={{ resize: 'vertical' }}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <span\r\n            style={{color: 'red', display: error ? 'block' : 'none'}}>{error}</span>\r\n        </div>\r\n        <div className='form-group' style={{opacity: 0.8}}>\r\n          <hr />\r\n          <span>\r\n            You can use tags to organize jsreport objects.<br />\r\n            This can be for example a tag to organize and group related templates, images, data, scripts, assets, etc. <br />\r\n            See the <a target='_blank' title='Help' href='http://jsreport.net/learn/tags'>documentation</a> for details.\r\n          </span>\r\n        </div>\r\n        <div className='button-bar'>\r\n          <button onClick={() => this.createTag()} className={'button confirmation'}>Ok</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/NewTagModal.js\n **/","module.exports = Studio.libraries['react'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react']\"\n ** module id = 3\n ** module chunks = 0\n **/","import assign from 'object-assign'\r\nimport React, { PropTypes } from 'react'\r\nimport { Popover } from 'jsreport-studio'\r\nimport ShowColor from './ShowColor'\r\nimport ColorPicker from './ColorPicker'\r\n\r\nconst ColorPicketTrigger = (props) => {\r\n  const {\r\n    displayColorPicker,\r\n    color,\r\n    containerStyles,\r\n    onClickColorTrigger,\r\n    onInputChange,\r\n    onChangeSelectionColor,\r\n    onCloseColorPicker,\r\n    translateXColorPickerFromTrigger,\r\n    translateYColorPickerFromTrigger\r\n  } = props\r\n\r\n  const containerTriggerPickerStyles = {\r\n    display: 'inline-block',\r\n    height: '32px',\r\n    padding: '5px'\r\n  }\r\n\r\n  const defaultContainerStyles = {\r\n    display: 'inline-block'\r\n  }\r\n\r\n  const currentColor = color || ''\r\n  const currentContainerStyles = assign({}, defaultContainerStyles, containerStyles)\r\n\r\n  let colorPickerContainerStyles = {}\r\n\r\n  if (translateXColorPickerFromTrigger || translateYColorPickerFromTrigger) {\r\n    let transformValue = ''\r\n\r\n    if (translateXColorPickerFromTrigger) {\r\n      transformValue += `translateX(${translateXColorPickerFromTrigger}) `\r\n    }\r\n\r\n    if (translateYColorPickerFromTrigger) {\r\n      transformValue += `translateY(${translateYColorPickerFromTrigger}) `\r\n    }\r\n\r\n    colorPickerContainerStyles.transform = transformValue\r\n  }\r\n\r\n  return (\r\n    <div style={currentContainerStyles}>\r\n      <span style={containerTriggerPickerStyles}>\r\n        <span style={{ display: 'inline-block' }}>\r\n          <ShowColor color={currentColor} />&nbsp;\r\n          <input\r\n            type='text'\r\n            value={currentColor}\r\n            style={{ width: '90px' }}\r\n            maxLength={7}\r\n            placeholder='#006600'\r\n            onFocus={onClickColorTrigger}\r\n            onChange={(ev) => typeof onInputChange === 'function' && onInputChange(ev.target.value)}\r\n          />\r\n        </span>\r\n      </span>\r\n      <Popover\r\n        wrapper={false}\r\n        open={displayColorPicker}\r\n        onClose={onCloseColorPicker}\r\n      >\r\n        <div style={colorPickerContainerStyles}>\r\n          <ColorPicker\r\n            color={currentColor}\r\n            onChangeComplete={(color) => typeof onChangeSelectionColor === 'function' && onChangeSelectionColor(color.hex)}\r\n          />\r\n        </div>\r\n      </Popover>\r\n    </div>\r\n  )\r\n}\r\n\r\nColorPicketTrigger.propTypes = {\r\n  displayColorPicker: PropTypes.bool.isRequired,\r\n  color: PropTypes.string,\r\n  containerStyles: PropTypes.object,\r\n  onClickColorTrigger: PropTypes.func,\r\n  onCloseColorPicker: PropTypes.func.isRequired,\r\n  onInputChange: PropTypes.func,\r\n  onChangeSelectionColor: PropTypes.func,\r\n  // i know.. it is a shame to decide the position of the color picker\r\n  // in this way, maybe in the future it can be calculated based\r\n  // on the position of the button trigger\r\n  // using a \"position\" prop to specify the direction\r\n  translateXColorPickerFromTrigger: PropTypes.string,\r\n  translateYColorPickerFromTrigger: PropTypes.string\r\n}\r\n\r\nexport default ColorPicketTrigger\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPickerTrigger.js\n **/","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 5\n ** module chunks = 0\n **/","import React, { PropTypes } from 'react'\r\nimport simpleCheckForValidColor from './simpleCheckForValidColor'\r\nimport colorLuminance from './colorLuminance'\r\n\r\nconst ShowColor = (props) => {\r\n  const {\r\n    color,\r\n    height = 15,\r\n    width = 20\r\n  } = props\r\n\r\n  let borderColor = props.borderColor\r\n  let currentColor = 'inherit'\r\n\r\n  if (simpleCheckForValidColor(color)) {\r\n    currentColor = color\r\n  }\r\n\r\n  if (!borderColor) {\r\n    borderColor = colorLuminance(currentColor, -0.35)\r\n  }\r\n\r\n  return (\r\n    <span style={{\r\n      backgroundColor: currentColor,\r\n      borderWidth: '1px',\r\n      borderStyle: 'solid',\r\n      borderColor: borderColor,\r\n      content: ' ',\r\n      display: 'inline-block',\r\n      height: height,\r\n      verticalAlign: 'middle',\r\n      width: width\r\n    }} />\r\n  )\r\n}\r\n\r\nShowColor.propTypes = {\r\n  color: PropTypes.string.isRequired,\r\n  borderColor: PropTypes.string,\r\n  height: PropTypes.number,\r\n  width: PropTypes.number\r\n}\r\n\r\nexport default ShowColor\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ShowColor.js\n **/","const HEX_COLOR_REGEXP = /^#[0-9A-F]{6}$/i\r\n\r\nconst simpleCheckForValidColor = (color) => {\r\n  return HEX_COLOR_REGEXP.test(color)\r\n}\r\n\r\nexport default simpleCheckForValidColor\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/simpleCheckForValidColor.js\n **/","\r\nexport default (hex, lum) => {\r\n  const selectedLum = lum || 0\r\n  let selectedHex\r\n\r\n  selectedHex = String(hex).replace(/[^0-9a-f]/gi, '')\r\n\r\n  if (selectedHex.length < 6) {\r\n    selectedHex = selectedHex[0] + selectedHex[0] + selectedHex[1] + selectedHex[1] + selectedHex[2] + selectedHex[2]\r\n  }\r\n\r\n  // convert to decimal and change luminosity\r\n  let rgb = '#'\r\n  let c\r\n  let i\r\n\r\n  for (i = 0; i < 3; i++) {\r\n    c = parseInt(selectedHex.substr(i * 2, 2), 16)\r\n    c = Math.round(Math.min(Math.max(0, c + (c * selectedLum)), 255)).toString(16)\r\n    rgb += ('00' + c).substr(c.length)\r\n  }\r\n\r\n  return rgb\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/colorLuminance.js\n **/","\r\nimport ColorWrap from './ColorWrap'\r\nimport Picker from './Picker'\r\n\r\nexport default ColorWrap(Picker)\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/index.js\n **/","\r\nimport React, { Component, PureComponent } from 'react'\r\nimport debounce from 'lodash.debounce'\r\nimport simpleCheckForValidColor from '../simpleCheckForValidColor'\r\n\r\nconst colorToState = (data) => {\r\n  const color = data.hex ? data.hex : data\r\n\r\n  return {\r\n    hex: `${color}`\r\n  }\r\n}\r\n\r\nconst ColorWrap = (Picker) => {\r\n  class ColorPicker extends (PureComponent || Component) {\r\n    constructor (props) {\r\n      super(props)\r\n\r\n      this.state = {\r\n        ...colorToState(props.color),\r\n        visible: props.display\r\n      }\r\n\r\n      this.debounce = debounce((fn, data, event) => {\r\n        fn(data, event)\r\n      }, 100)\r\n    }\r\n\r\n    componentWillReceiveProps (nextProps) {\r\n      this.setState({\r\n        ...colorToState(nextProps.color),\r\n        visible: nextProps.display\r\n      })\r\n    }\r\n\r\n    handleChange = (data, event) => {\r\n      const isValidColor = simpleCheckForValidColor(data.hex)\r\n\r\n      if (isValidColor) {\r\n        const colors = colorToState(data)\r\n        this.setState(colors)\r\n        this.props.onChangeComplete && this.debounce(this.props.onChangeComplete, colors, event)\r\n        this.props.onChange && this.props.onChange(colors, event)\r\n      }\r\n    }\r\n\r\n    render () {\r\n      return (\r\n        <Picker\r\n          {...this.props}\r\n          {...this.state}\r\n          onChange={this.handleChange}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  ColorPicker.defaultProps = {\r\n    color: ''\r\n  }\r\n\r\n  return ColorPicker\r\n}\r\n\r\nexport default ColorWrap\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/ColorWrap.js\n **/","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.debounce/index.js\n ** module id = 11\n ** module chunks = 0\n **/","\r\nimport handleHover from './utils/handleHover'\r\nimport Swatch from './Swatch'\r\n\r\nconst PickerSwatch = handleHover(({ hover, color, onClick }) => {\r\n  const styles = {\r\n    swatch: {\r\n      width: '25px',\r\n      height: '25px'\r\n    }\r\n  }\r\n\r\n  if (hover) {\r\n    styles.swatch = {\r\n      ...styles.swatch,\r\n      position: 'relative',\r\n      zIndex: '2',\r\n      outline: '2px solid #fff',\r\n      boxShadow: '0 0 5px 2px rgba(0,0,0,0.25)'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={styles.swatch}>\r\n      <Swatch color={color} onClick={onClick} />\r\n    </div>\r\n  )\r\n})\r\n\r\nconst Picker = ({ width, colors, onChange, triangle }) => {\r\n  const styles = {\r\n    card: {\r\n      width,\r\n      background: '#fff',\r\n      border: '1px solid rgba(0,0,0,0.2)',\r\n      boxShadow: '0 3px 12px rgba(0,0,0,0.15)',\r\n      borderRadius: '4px',\r\n      position: 'relative',\r\n      padding: '5px',\r\n      display: 'flex',\r\n      flexWrap: 'wrap'\r\n    }\r\n  }\r\n  const handleChange = (hex, e) => onChange({ hex, source: 'hex' }, e)\r\n\r\n  return (\r\n    <div style={styles.card}>\r\n      {colors.map((c) => (\r\n        <PickerSwatch color={c} key={c} onClick={handleChange} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nPicker.defaultProps = {\r\n  width: '200px',\r\n  colors: [\r\n    '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76',\r\n    '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3',\r\n    '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6'\r\n  ]\r\n}\r\n\r\nexport default Picker\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/Picker.js\n **/","\r\nimport React from 'react'\r\n\r\nconst handleHover = (Component, Span = 'span') => {\r\n  return class Hover extends React.Component {\r\n    state = { hover: false }\r\n    handleMouseOver = () => this.setState({ hover: true })\r\n    handleMouseOut = () => this.setState({ hover: false })\r\n\r\n    render = () => (\r\n      <Span onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\r\n        <Component {...this.props} {...this.state} />\r\n      </Span>\r\n    )\r\n  }\r\n}\r\n\r\nexport default handleHover\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/utils/handleHover.js\n **/","\r\nconst Swatch = ({ color, style, onClick, title = color }) => {\r\n  const styles = {\r\n    swatch: {\r\n      background: color,\r\n      height: '100%',\r\n      width: '100%',\r\n      cursor: 'pointer'\r\n    }\r\n  }\r\n\r\n  const handleClick = (e) => onClick(color, e)\r\n\r\n  return (\r\n    <div style={styles.swatch} onClick={handleClick} title={title} />\r\n  )\r\n}\r\n\r\nexport default Swatch\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/ColorPicker/Swatch.js\n **/","import React, { Component, PropTypes } from 'react'\r\nimport ShowColor from './ShowColor'\r\n\r\nexport default class TagEditor extends Component {\r\n  static propTypes = {\r\n    entity: PropTypes.object.isRequired\r\n  }\r\n\r\n  render () {\r\n    const { entity } = this.props\r\n\r\n    return (\r\n      <div className='custom-editor'>\r\n        <div>\r\n          <h1><i className='fa fa-tag' /> {entity.name}</h1>\r\n        </div>\r\n        <div>\r\n          Description: <br />\r\n          <p>{entity.description || <i>(no description for this tag)</i>}</p>\r\n        </div>\r\n        <div>\r\n          Color: <ShowColor color={entity.color} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEditor.js\n **/","import React, { Component } from 'react'\r\nimport ShowColor from './ShowColor'\r\nimport ColorPicketTrigger from './ColorPickerTrigger'\r\n\r\nexport default class TagProperties extends Component {\r\n  static title (entity, entities) {\r\n    return (\r\n      <span>\r\n        <span>\r\n          tag (color: {<ShowColor color={entity.color} width={15} height={15} />})\r\n        </span>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      displayColorPicker: false\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { displayColorPicker } = this.state\r\n    const { entity, onChange } = this.props\r\n\r\n    return (\r\n      <div className='properties-section'>\r\n        <div className='form-group'>\r\n          <label>Color</label>\r\n\r\n          <div>\r\n            <ColorPicketTrigger\r\n              displayColorPicker={displayColorPicker}\r\n              containerStyles={{ border: '1px dashed #000' }}\r\n              color={entity.color}\r\n              onClickColorTrigger={() => this.setState({ displayColorPicker: true })}\r\n              onCloseColorPicker={() => this.setState({ displayColorPicker: false })}\r\n              onInputChange={(colorInputValue) => colorInputValue !== entity.color && onChange({ _id: entity._id, color: colorInputValue })}\r\n              onChangeSelectionColor={(colorHex) => onChange({ _id: entity._id, color: colorHex })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='form-group'>\r\n          <label>Description</label>\r\n          <textarea\r\n            rows='4'\r\n            style={{ resize: 'vertical' }}\r\n            value={entity.description || ''}\r\n            onChange={(v) => onChange({ _id: entity._id, description: v.target.value })}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagProperties.js\n **/","import React, { Component } from 'react'\r\nimport ShowColor from './ShowColor'\r\n\r\nconst selectValues = (event, atags) => {\r\n  const el = event.target\r\n\r\n  let tags = Object.assign([], atags)\r\n\r\n  for (var i = 0; i < el.options.length; i++) {\r\n    if (el.options[i].selected) {\r\n      if (!tags.filter((t) => t.shortid === el.options[i].value).length) {\r\n        tags.push({ shortid: el.options[i].value })\r\n      }\r\n    } else {\r\n      if (tags.filter((t) => t.shortid === el.options[i].value).length) {\r\n        tags = tags.filter((t) => t.shortid !== el.options[i].value)\r\n      }\r\n    }\r\n  }\r\n\r\n  return tags\r\n}\r\n\r\nexport default class EntityTagProperties extends Component {\r\n  static getSelectedTags (entity, entities) {\r\n    const getNameAndColor = (t) => {\r\n      const foundTags = Object.keys(entities).map((k) => entities[k]).filter((tg) => tg.shortid === t.shortid)\r\n\r\n      return foundTags.length ? { name: foundTags[0].name, color: foundTags[0].color } : { name: '', color: undefined }\r\n    }\r\n\r\n    return (entity.tags || []).map((t) => ({\r\n      ...t,\r\n      ...getNameAndColor(t)\r\n    }))\r\n  }\r\n\r\n  static title (entity, entities) {\r\n    if (!entity.tags || !entity.tags.length) {\r\n      return 'tags'\r\n    }\r\n\r\n    return (\r\n      <span>\r\n        tags:&nbsp;\r\n        <span>\r\n          {\r\n            EntityTagProperties.getSelectedTags(entity, entities).map((t, tIndex, allSelectTags) => {\r\n              return (\r\n                <span key={t.name} style={{ display: 'inline-block', marginRight: '2px' }}>\r\n                  <ShowColor color={t.color} width={12} height={15} />\r\n                  &nbsp;\r\n                  {t.name}\r\n                  {tIndex === allSelectTags.length - 1 ? '' : ','}\r\n                </span>\r\n              )\r\n            })\r\n          }\r\n        </span>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.removeInvalidTagReferences()\r\n  }\r\n\r\n  componentDidUpdate () {\r\n    this.removeInvalidTagReferences()\r\n  }\r\n\r\n  selectTags (entities) {\r\n    return Object.keys(entities).filter((k) => entities[k].__entitySet === 'tags').map((k) => entities[k])\r\n  }\r\n\r\n  removeInvalidTagReferences () {\r\n    const { entity, entities, onChange } = this.props\r\n\r\n    if (!entity.tags) {\r\n      return\r\n    }\r\n\r\n    const updatedTags = entity.tags.filter((t) => Object.keys(entities).filter((k) => entities[k].__entitySet === 'tags' && entities[k].shortid === t.shortid).length)\r\n\r\n    if (updatedTags.length !== entity.tags.length) {\r\n      onChange({ _id: entity._id, tags: updatedTags })\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { entity, entities, onChange } = this.props\r\n    const tags = this.selectTags(entities)\r\n\r\n    return (\r\n      <div className='properties-section'>\r\n        <div className='form-group'>\r\n          <select\r\n            title='Use CTRL to deselect item and also to select multiple options.'\r\n            multiple\r\n            size='7'\r\n            value={entity.tags ? entity.tags.map((t) => t.shortid) : []}\r\n            onChange={(v) => onChange({_id: entity._id, tags: selectValues(v, entity.tags)})}>\r\n            {tags.map((t) => <option key={t.shortid} value={t.shortid}>{t.name}</option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/EntityTagProperties.js\n **/","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport emitter from './emitter'\r\nimport findTagInSet from './findTagInSet'\r\n\r\nconst { default: reservedTagNames, noTagGroupName, tagsGroupName } = require('../shared/reservedTagNames')\r\n\r\nconst specialGroups = reservedTagNames\r\n\r\nclass EntityTreeTagOrganizer extends Component {\r\n  constructor () {\r\n    super()\r\n\r\n    let organizeByDefault = Studio.extensions['tags'].options.organizeByDefault\r\n\r\n    if (organizeByDefault == null) {\r\n      organizeByDefault = false\r\n    }\r\n\r\n    this.state = {\r\n      organizeByTags: organizeByDefault\r\n    }\r\n\r\n    this.onOrganizationModeChange = this.onOrganizationModeChange.bind(this)\r\n  }\r\n\r\n  componentDidMount () {\r\n    emitter.on('organizationModeByTagsChanged', this.onOrganizationModeChange)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    emitter.off('organizationModeByTagsChanged', this.onOrganizationModeChange)\r\n  }\r\n\r\n  onOrganizationModeChange (organizeByTag) {\r\n    this.setState({\r\n      organizeByTags: organizeByTag\r\n    })\r\n  }\r\n\r\n  addToGroups (groups, tagName) {\r\n    if (groups.indexOf(tagName) === -1) {\r\n      groups.push(tagName)\r\n    }\r\n  }\r\n\r\n  addToGroupsWithData (groups, tagName) {\r\n    if (groups.indexOf(tagName) === -1) {\r\n      groups.push(tagName)\r\n    }\r\n  }\r\n\r\n  addToEntitiesByTag (collection, initializeSets, tagName, groupData, entity, noGroup) {\r\n    let collectionItem\r\n    let collectionItemEntitiesSet\r\n    let dataInGroup = groupData || {}\r\n\r\n    // initialize collection item if not present\r\n    if (collection[tagName] == null) {\r\n      if (noGroup) {\r\n        collection[tagName] = []\r\n      } else {\r\n        collection[tagName] = {\r\n          __hasChildEntitiesSet__: true,\r\n          entitiesSet: {},\r\n          data: {\r\n            name: tagName,\r\n            ...dataInGroup\r\n          }\r\n        }\r\n\r\n        if (initializeSets) {\r\n          initializeSets.forEach((nameOfSet) => {\r\n            // ignore tags set for groups\r\n            if (nameOfSet === 'tags') {\r\n              return\r\n            }\r\n\r\n            collection[tagName].entitiesSet[nameOfSet] = []\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    collectionItem = collection[tagName]\r\n\r\n    if (noGroup) {\r\n      if (entity) {\r\n        collectionItem.push(entity)\r\n      }\r\n      return\r\n    }\r\n\r\n    if (!entity) {\r\n      return\r\n    }\r\n\r\n    if (collectionItem.entitiesSet[entity.__entitySet] == null) {\r\n      collectionItem.entitiesSet[entity.__entitySet] = []\r\n    }\r\n\r\n    collectionItemEntitiesSet = collectionItem.entitiesSet[entity.__entitySet]\r\n\r\n    collectionItemEntitiesSet.push(entity)\r\n  }\r\n\r\n  groupEntitiesByTag (entitySets, entities) {\r\n    let groups = []\r\n    let newEntities = {}\r\n    let entitySetsNames = Object.keys(entitySets)\r\n    let allTagEntities = Studio.getReferences().tags || []\r\n    let groupsWithData = []\r\n\r\n    // initialize all tag groups based on all tag entities\r\n    allTagEntities.forEach((entityTag) => {\r\n      const tagInfo = findTagInSet(allTagEntities, entityTag.shortid)\r\n\r\n      this.addToEntitiesByTag(newEntities, entitySetsNames, tagInfo.name, {\r\n        shortid: tagInfo.shortid,\r\n        color: tagInfo.color,\r\n        groupType: 'tags'\r\n      }, undefined)\r\n    })\r\n\r\n    // initialize special groups\r\n    specialGroups.forEach((specialGroupName) => {\r\n      let noGroup = false\r\n\r\n      if (specialGroupName === tagsGroupName) {\r\n        noGroup = true\r\n      }\r\n\r\n      this.addToEntitiesByTag(newEntities, entitySetsNames, specialGroupName, undefined, undefined, noGroup)\r\n    })\r\n\r\n    entitySetsNames.forEach((entitySetName) => {\r\n      const entitiesInSet = entities[entitySetName]\r\n\r\n      if (!entitiesInSet) {\r\n        return\r\n      }\r\n\r\n      let entitiesInSetCount = entitiesInSet.length\r\n\r\n      for (let j = 0; j < entitiesInSetCount; j++) {\r\n        const entity = entitiesInSet[j]\r\n\r\n        if (entitySetName === 'tags') {\r\n          // special groups are added to groups array at the end of the function\r\n          this.addToEntitiesByTag(newEntities, entitySetsNames, tagsGroupName, undefined, entity, true)\r\n          continue\r\n        }\r\n\r\n        if (!Array.isArray(entity.tags) || entity.tags.length === 0) {\r\n          // special groups are added to groups array at the end of the function\r\n          this.addToEntitiesByTag(newEntities, entitySetsNames, noTagGroupName, undefined, entity)\r\n          continue\r\n        }\r\n\r\n        let tagsCount = entity.tags.length\r\n\r\n        for (let k = 0; k < tagsCount; k++) {\r\n          const entityTag = entity.tags[k]\r\n          const tagInfo = findTagInSet(allTagEntities, entityTag.shortid)\r\n\r\n          if (!tagInfo) {\r\n            continue\r\n          }\r\n\r\n          this.addToGroups(groups, tagInfo.name)\r\n          this.addToGroupsWithData(groupsWithData, tagInfo.name)\r\n          this.addToEntitiesByTag(newEntities, entitySetsNames, tagInfo.name, undefined, entity)\r\n        }\r\n      }\r\n    })\r\n\r\n    // empty groups should be inserted in the end of groups array (before special groups)\r\n    // (it should be inserted to allow its visualization in tree)\r\n    allTagEntities.forEach((entityTag) => {\r\n      if (groupsWithData.indexOf(entityTag.name) === -1) {\r\n        this.addToGroups(groups, entityTag.name)\r\n      }\r\n    })\r\n\r\n    // special groups should be placed in the end of groups\r\n    specialGroups.forEach((gname) => {\r\n      this.addToGroups(groups, gname)\r\n    })\r\n\r\n    return {\r\n      groups,\r\n      entitiesByTag: newEntities\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { containerStyles } = this.props\r\n\r\n    return (\r\n      <div style={containerStyles}>\r\n        {/*\r\n          extending entity tree's react element to configure\r\n          custom rendering of items in tree\r\n        */}\r\n        {React.cloneElement(this.props.children, {}, ({\r\n          renderClassicTree,\r\n          renderObjectSubTree,\r\n          entitySets,\r\n          entities\r\n        }) => {\r\n          const { organizeByTags } = this.state\r\n\r\n          if (!organizeByTags) {\r\n            return renderClassicTree(entitySets, entities)\r\n          }\r\n\r\n          let { groups, entitiesByTag } = this.groupEntitiesByTag(entitySets, entities)\r\n\r\n          return groups.map((groupName) => {\r\n            return renderObjectSubTree(groupName, entitiesByTag[groupName] || [])\r\n          })\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EntityTreeTagOrganizer\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/EntityTreeTagOrganizer.js\n **/","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\n\r\nexport default emitter\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/emitter.js\n **/","function n(n){function o(o){var t=o.toLowerCase();return n[t]||(n[t]=[])}return n=n||{},{on:function(n,t){o(n).push(t)},off:function(n,t){var c=o(n),f=c.indexOf(t);~f&&c.splice(f,1)},emit:function(n,t){o(\"*\").concat(o(n)).forEach(function(n){n(t)})}}}module.exports=n;\n//# sourceMappingURL=mitt.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mitt/dist/mitt.js\n ** module id = 20\n ** module chunks = 0\n **/","\r\nexport default (tagSet, tagShortId) => {\r\n  let tag\r\n\r\n  const found = tagSet.some((tagInSet) => {\r\n    tag = tagInSet\r\n    return tagInSet.shortid === tagShortId\r\n  })\r\n\r\n  if (found) {\r\n    return tag\r\n  }\r\n\r\n  return undefined\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/findTagInSet.js\n **/","\r\nvar noTagGroupName = '(objects without tag)'\r\nvar tagsGroupName = 'tags'\r\nvar reservedTagNames = [noTagGroupName, tagsGroupName]\r\n\r\nmodule.exports.default = reservedTagNames\r\nmodule.exports.noTagGroupName = noTagGroupName\r\nmodule.exports.tagsGroupName = tagsGroupName\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./shared/reservedTagNames.js\n **/","import React, { Component } from 'react'\r\nimport Studio from 'jsreport-studio'\r\nimport emitter from './emitter'\r\nimport TagEntityTreeOrganizeButtonToolbar from './TagEntityTreeOrganizeButtonToolbar'\r\nimport TagEntityTreeFilterButtonToolbar from './TagEntityTreeFilterButtonToolbar'\r\n\r\nclass TagEntityTreeToolbar extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    let organizeByDefault = Studio.extensions['tags'].options.organizeByDefault\r\n\r\n    if (organizeByDefault == null) {\r\n      organizeByDefault = false\r\n    }\r\n\r\n    this.state = {\r\n      organizeByTags: organizeByDefault,\r\n      showFilterBytag: false,\r\n      filteredByTags: false,\r\n      selectedTags: []\r\n    }\r\n\r\n    this.onOrganizationModeChange = this.onOrganizationModeChange.bind(this)\r\n    this.onTagSelectChange = this.onTagSelectChange.bind(this)\r\n  }\r\n\r\n  onOrganizationModeChange () {\r\n    this.setState((prevState) => {\r\n      return {\r\n        organizeByTags: !prevState.organizeByTags\r\n      }\r\n    }, () => {\r\n      // notify parent that the organization mode has changed\r\n      emitter.emit('organizationModeByTagsChanged', this.state.organizeByTags)\r\n    })\r\n  }\r\n\r\n  onTagSelectChange (selectedTags) {\r\n    const { setFilter } = this.props\r\n    const isActive = selectedTags.length > 0\r\n\r\n    setFilter({\r\n      tags: selectedTags\r\n    })\r\n\r\n    this.setState({\r\n      selectedTags,\r\n      filteredByTags: isActive\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const {\r\n      organizeByTags,\r\n      showFilterBytag,\r\n      filteredByTags,\r\n      selectedTags\r\n    } = this.state\r\n\r\n    return (\r\n      <div style={{ display: 'inline-block' }}>\r\n        <TagEntityTreeFilterButtonToolbar\r\n          showFilter={showFilterBytag}\r\n          active={filteredByTags}\r\n          selectedTags={selectedTags}\r\n          onClick={() => this.setState({ showFilterBytag: true })}\r\n          onTagSelectChange={this.onTagSelectChange}\r\n          onFilterClose={() => this.setState({ showFilterBytag: false })}\r\n        />\r\n        <TagEntityTreeOrganizeButtonToolbar\r\n          active={organizeByTags}\r\n          onClick={this.onOrganizationModeChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TagEntityTreeToolbar\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeToolbar.js\n **/","import React, { Component } from 'react'\r\nimport { EntityTreeButton } from 'jsreport-studio'\r\n\r\nclass TagEntityTreeOrganizeButtonToolbar extends Component {\r\n  render () {\r\n    const { onClick, active } = this.props\r\n\r\n    return (\r\n      <div title='Organize entities tree by tag' style={{ display: 'inline-block', marginLeft: '0.2rem', marginRight: '0.2rem' }}>\r\n        <EntityTreeButton active={active} onClick={onClick}>\r\n          <i className='fa fa-tags' />\r\n        </EntityTreeButton>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TagEntityTreeOrganizeButtonToolbar\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeOrganizeButtonToolbar.js\n **/","import React, { Component } from 'react'\r\nimport Studio, { EntityTreeButton, Popover } from 'jsreport-studio'\r\nimport TagEntityTreeFilterByTags from './TagEntityTreeFilterByTags'\r\n\r\nclass TagEntityTreeFilterButtonToolbar extends Component {\r\n  render () {\r\n    const allTags = Studio.getReferences().tags\r\n\r\n    const {\r\n      active,\r\n      showFilter,\r\n      selectedTags,\r\n      onClick,\r\n      onTagSelectChange,\r\n      onFilterClose\r\n    } = this.props\r\n\r\n    return (\r\n      <div title='Filter entities tree by tag' style={{ display: 'inline-block', marginLeft: '0.2rem', marginRight: '0.2rem' }}>\r\n        <EntityTreeButton active={active} onClick={onClick}>\r\n          <span style={{ display: 'inline-block' }}>\r\n            <i className='fa fa-filter' />\r\n            &nbsp;\r\n            <i className='fa fa-tag' />\r\n          </span>\r\n        </EntityTreeButton>\r\n        <Popover\r\n          open={showFilter}\r\n          onClose={onFilterClose}\r\n        >\r\n          <TagEntityTreeFilterByTags\r\n            tags={allTags}\r\n            selectedTags={selectedTags}\r\n            onTagSelectChange={onTagSelectChange}\r\n            onFilterClose={onFilterClose}\r\n          />\r\n        </Popover>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TagEntityTreeFilterButtonToolbar\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeFilterButtonToolbar.js\n **/","import React, { Component, PropTypes } from 'react'\r\nimport ReactList from 'react-list'\r\nimport colorLuminance from './colorLuminance'\r\nimport getColorLuminance from './getColorLuminance'\r\nimport ShowColor from './ShowColor'\r\nimport style from './TagEntityTreeFilterByTags.scss'\r\n\r\nclass TagEntityTreeFilterByTags extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      showTagsList: true,\r\n      filterText: ''\r\n    }\r\n\r\n    this.createRenderer = this.createRenderer.bind(this)\r\n    this.addSelectedTag = this.addSelectedTag.bind(this)\r\n    this.onTagSelectionClick = this.onTagSelectionClick.bind(this)\r\n    this.onChangeInputTag = this.onChangeInputTag.bind(this)\r\n    this.onKeyDownInputTag = this.onKeyDownInputTag.bind(this)\r\n    this.onRemoveTagItem = this.onRemoveTagItem.bind(this)\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.focus()\r\n  }\r\n\r\n  createRenderer (tags) {\r\n    return (index, key) => this.renderTagItem(tags[index])\r\n  }\r\n\r\n  addSelectedTag (tag) {\r\n    const previousSelectedTags = this.props.selectedTags\r\n\r\n    const selectedTags = [\r\n      ...previousSelectedTags,\r\n      tag\r\n    ]\r\n\r\n    this.props.onTagSelectChange(selectedTags)\r\n    this.focus()\r\n  }\r\n\r\n  focus () {\r\n    if (this.refs.tagSelectionInput && typeof this.refs.tagSelectionInput.focus === 'function') {\r\n      this.refs.tagSelectionInput.focus()\r\n    }\r\n  }\r\n\r\n  getTagsToShow (allTags, selectedTags, filterText) {\r\n    if (selectedTags.length === 0 && filterText === '') {\r\n      return allTags\r\n    }\r\n\r\n    return allTags.filter((tag) => {\r\n      let filterPass = true\r\n\r\n      if (filterText !== '') {\r\n        filterPass = tag.name.indexOf(filterText) !== -1\r\n      }\r\n\r\n      if (!filterPass) {\r\n        return false\r\n      }\r\n\r\n      const foundInSelectedTags = selectedTags.some((selectTag) => {\r\n        return selectTag.shortid === tag.shortid\r\n      })\r\n\r\n      return !foundInSelectedTags\r\n    })\r\n  }\r\n\r\n  onTagSelectionClick (ev) {\r\n    // if the tag selection area is directly clicked\r\n    // focus the input\r\n    if (ev.target === this.refs.tagSelection) {\r\n      this.focus()\r\n    }\r\n  }\r\n\r\n  onChangeInputTag (ev) {\r\n    this.setState({\r\n      filterText: ev.target.value\r\n    })\r\n  }\r\n\r\n  onKeyDownInputTag (ev) {\r\n    if (ev.defaultPrevented) {\r\n      return\r\n    }\r\n\r\n    let keyCode = ev.keyCode\r\n    let inputTag = ev.target\r\n    let remove = false\r\n    let enterKey = 13\r\n    let removeKey = 8\r\n\r\n    if (keyCode === enterKey) {\r\n      ev.preventDefault()\r\n\r\n      return this.props.onFilterClose()\r\n    }\r\n\r\n    if (keyCode === removeKey) {\r\n      remove = true\r\n    }\r\n\r\n    if (remove && inputTag.value === '') {\r\n      let selectedTags = this.props.selectedTags\r\n      let selectedTagsLastIndex = selectedTags.length - 1\r\n\r\n      ev.preventDefault()\r\n\r\n      if (selectedTagsLastIndex >= 0) {\r\n        this.onRemoveTagItem(selectedTags[selectedTagsLastIndex], selectedTagsLastIndex)\r\n      }\r\n    }\r\n  }\r\n\r\n  onRemoveTagItem (tag, tagIndex) {\r\n    const originalSelectedTags = this.props.selectedTags\r\n\r\n    const selectedTags = [\r\n      ...originalSelectedTags.slice(0, tagIndex),\r\n      ...originalSelectedTags.slice(tagIndex + 1)\r\n    ]\r\n\r\n    this.props.onTagSelectChange(selectedTags)\r\n  }\r\n\r\n  renderTagItem (tag) {\r\n    return (\r\n      <div\r\n        key={tag.shortid}\r\n        className={style.tagsListItem}\r\n        onClick={() => this.addSelectedTag(tag)}\r\n      >\r\n        <ShowColor color={tag.color} />\r\n        &nbsp;\r\n        <span>{tag.name}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const { showTagsList, filterText } = this.state\r\n    const { tags, selectedTags } = this.props\r\n    const tagsToShowInList = this.getTagsToShow(tags, selectedTags, filterText)\r\n\r\n    let stylesForTagsList = {}\r\n    let stylesForInputTag = {}\r\n\r\n    if (showTagsList) {\r\n      stylesForTagsList.display = 'block'\r\n    } else {\r\n      stylesForTagsList.display = 'none'\r\n    }\r\n\r\n    if (selectedTags.length === 0) {\r\n      stylesForInputTag.width = '100%'\r\n    }\r\n\r\n    return (\r\n      <div className={style.searchTagsContainer}>\r\n        <div className={style.searchTagsInputBox}>\r\n          <div ref='tagSelection' className={style.tagsSelect} onClick={this.onTagSelectionClick}>\r\n            <span>\r\n              {selectedTags.map((tag, tagIndex) => {\r\n                const tagStyles = {\r\n                  backgroundColor: tag.color,\r\n                  borderColor: colorLuminance(tag.color, -0.35),\r\n                  color: getColorLuminance(tag.color) >= 0.5 ? '#000' : '#fff'\r\n                }\r\n\r\n                return (\r\n                  <span key={tag.shortid} className={style.tagsSelectItem} style={tagStyles}>\r\n                    {tag.name}\r\n                    <a className={style.tagsSelectItemRemove} onClick={() => this.onRemoveTagItem(tag, tagIndex)} />\r\n                  </span>\r\n                )\r\n              })}\r\n              <input\r\n                ref='tagSelectionInput'\r\n                type='text'\r\n                placeholder={selectedTags.length === 0 ? 'select a tag' : ''}\r\n                className={style.searchTags}\r\n                style={stylesForInputTag}\r\n                onChange={this.onChangeInputTag}\r\n                onKeyDown={this.onKeyDownInputTag}\r\n              />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div\r\n          ref='tagList'\r\n          className={style.tagsListContainer}\r\n          style={stylesForTagsList}\r\n        >\r\n          <div className={style.tagsList}>\r\n            {tags.length === 0 ? (\r\n              <div className={style.tagsListEmpty}>\r\n                No tags registered\r\n              </div>\r\n            ) : (\r\n              <ReactList\r\n                itemRenderer={this.createRenderer(tagsToShowInList)}\r\n                length={tagsToShowInList.length}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nTagEntityTreeFilterByTags.defaultProps = {\r\n  onTagSelectChange: () => {}\r\n}\r\n\r\nTagEntityTreeFilterByTags.propTypes = {\r\n  tags: PropTypes.arrayOf(PropTypes.shape({\r\n    shortid: PropTypes.string,\r\n    name: PropTypes.string,\r\n    color: PropTypes.string\r\n  })),\r\n  selectedTags: PropTypes.arrayOf(PropTypes.shape({\r\n    shortid: PropTypes.string,\r\n    name: PropTypes.string,\r\n    color: PropTypes.string\r\n  })),\r\n  onTagSelectChange: PropTypes.func,\r\n  onFilterClose: PropTypes.func\r\n}\r\n\r\nexport default TagEntityTreeFilterByTags\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeFilterByTags.js\n **/","module.exports = Studio.libraries['react-list'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Studio.libraries['react-list']\"\n ** module id = 27\n ** module chunks = 0\n **/","import hexToRgb from './hexToRgb'\r\n\r\nexport default (hex) => {\r\n  const rgb = hexToRgb(hex)\r\n\r\n  let RsRGB, GsRGB, BsRGB, R, G, B\r\n\r\n  RsRGB = rgb.r / 255\r\n  GsRGB = rgb.g / 255\r\n  BsRGB = rgb.b / 255\r\n\r\n  if (RsRGB <= 0.03928) {\r\n    R = RsRGB / 12.92\r\n  } else {\r\n    R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4)\r\n  }\r\n\r\n  if (GsRGB <= 0.03928) {\r\n    G = GsRGB / 12.92\r\n  } else {\r\n    G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4)\r\n  }\r\n\r\n  if (BsRGB <= 0.03928) {\r\n    B = BsRGB / 12.92\r\n  } else {\r\n    B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4)\r\n  }\r\n\r\n  return (0.2126 * R) + (0.7152 * G) + (0.0722 * B)\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/getColorLuminance.js\n **/","\r\nconst shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i\r\n\r\nexport default (hex) => {\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  let fullHex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n    return r + r + g + g + b + b\r\n  })\r\n\r\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(fullHex)\r\n\r\n  return result ? {\r\n    r: parseInt(result[1], 16),\r\n    g: parseInt(result[2], 16),\r\n    b: parseInt(result[3], 16)\r\n  } : null\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/hexToRgb.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./../node_modules/sass-loader/index.js?outputStyle=expanded&sourceMap!./TagEntityTreeFilterByTags.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./studio/TagEntityTreeFilterByTags.scss\n ** module id = 30\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n.searchTagsContainer___Zf13X {\\n  display: inline-block;\\n  margin-left: -0.3rem;\\n  margin-right: -0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox___3IOHY {\\n  display: inline-block;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox___3IOHY:before {\\n  content: \\\"\\\\F02B\\\";\\n  margin-right: 0.3rem;\\n  color: #c6c6c6;\\n  font-family: FontAwesome;\\n  position: absolute;\\n}\\n\\n.searchTags___3wOD- {\\n  border: none;\\n  border-bottom-width: 0;\\n  transition: border 0.3s;\\n  padding: 0.2rem;\\n  width: 35px;\\n}\\n\\n.searchTags___3wOD-:focus,\\n.searchTags___3wOD-:hover {\\n  border-bottom-width: 0;\\n}\\n\\n.tagsListContainer___3CW1o {\\n  display: block;\\n  max-height: 150px;\\n  position: relative;\\n}\\n\\n.tagsList___cfxGL {\\n  background-color: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.2);\\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\\n  display: inline-block;\\n  overflow: auto;\\n  position: absolute;\\n  top: 4px;\\n  width: 100%;\\n  z-index: 3;\\n}\\n\\n.tagsListEmpty___EyYEK {\\n  padding-top: 0.4rem;\\n  padding-bottom: 0.4rem;\\n  text-align: center;\\n}\\n\\n.tagsListItem___1a9W- {\\n  cursor: pointer;\\n  padding-bottom: 0.4rem;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  padding-top: 0.4rem;\\n}\\n\\n.tagsListItem___1a9W-:hover {\\n  background-color: #1C97EA;\\n  color: #fff;\\n}\\n\\n.tagsSelect___2cai8 {\\n  display: inline-block;\\n  padding-left: 18px;\\n  width: 150px;\\n}\\n\\n.tagsSelectItem___3Labb {\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  display: inline-block;\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  margin-right: 0.3rem;\\n  padding-bottom: 0.1rem;\\n  padding-left: 0.2rem;\\n  padding-right: 0.2rem;\\n  padding-top: 0.1rem;\\n}\\n\\n.tagsSelectItemRemove___2WvNo {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.tagsSelectItemRemove___2WvNo:before {\\n  content: \\\" \\\\D7\\\";\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/./studio/TagEntityTreeFilterByTags.scss\",\"/./studio/studio/TagEntityTreeFilterByTags.scss\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;ACCjB;EACE,sBAAsB;EACtB,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;CACpB;;AAED;EACE,sBAAsB;EACtB,qBAAqB;EACrB,sBAAsB;EACtB,mBAAmB;CACpB;;AAED;EACE,iBAAiB;EACjB,qBAAqB;EACrB,eAAe;EACf,yBAAyB;EACzB,mBAAmB;CACpB;;AAED;EACE,aAAa;EACb,uBAAuB;EACvB,wBAAwB;EACxB,gBAAgB;EAChB,YAAY;CACb;;AAED;;EAEE,uBAAuB;CACxB;;AAED;EACE,eAAe;EACf,kBAAkB;EAClB,mBAAmB;CACpB;;AAED;EACE,uBAAuB;EACvB,qCAAsB;EACtB,2CAA2B;EAC3B,sBAAsB;EACtB,eAAe;EACf,mBAAmB;EACnB,SAAS;EACT,YAAY;EACZ,WAAW;CACZ;;AAED;EACE,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;CACpB;;AAED;EACE,gBAAgB;EAChB,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;EACtB,oBAAoB;CACrB;;AAED;EACE,0BAA0B;EAC1B,YAAY;CACb;;AAED;EACE,sBAAsB;EACtB,mBAAmB;EACnB,aAAa;CACd;;AAED;EACE,8BAA8B;EAC9B,mBAAmB;EACnB,sBAAsB;EACtB,mBAAmB;EACnB,iBAAiB;EACjB,qBAAqB;EACrB,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;EACtB,oBAAoB;CACrB;;AAED;EACE,gBAAgB;EAChB,kBAAkB;CACnB;;AAED;EACE,gBAAe;CAChB\",\"file\":\"TagEntityTreeFilterByTags.scss\",\"sourcesContent\":[\"@charset \\\"UTF-8\\\";\\n.searchTagsContainer {\\n  display: inline-block;\\n  margin-left: -0.3rem;\\n  margin-right: -0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox {\\n  display: inline-block;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  position: relative;\\n}\\n\\n.searchTagsInputBox:before {\\n  content: \\\"\\\\f02b\\\";\\n  margin-right: 0.3rem;\\n  color: #c6c6c6;\\n  font-family: FontAwesome;\\n  position: absolute;\\n}\\n\\n.searchTags {\\n  border: none;\\n  border-bottom-width: 0;\\n  transition: border 0.3s;\\n  padding: 0.2rem;\\n  width: 35px;\\n}\\n\\n.searchTags:focus,\\n.searchTags:hover {\\n  border-bottom-width: 0;\\n}\\n\\n.tagsListContainer {\\n  display: block;\\n  max-height: 150px;\\n  position: relative;\\n}\\n\\n.tagsList {\\n  background-color: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.2);\\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\\n  display: inline-block;\\n  overflow: auto;\\n  position: absolute;\\n  top: 4px;\\n  width: 100%;\\n  z-index: 3;\\n}\\n\\n.tagsListEmpty {\\n  padding-top: 0.4rem;\\n  padding-bottom: 0.4rem;\\n  text-align: center;\\n}\\n\\n.tagsListItem {\\n  cursor: pointer;\\n  padding-bottom: 0.4rem;\\n  padding-left: 0.3rem;\\n  padding-right: 0.3rem;\\n  padding-top: 0.4rem;\\n}\\n\\n.tagsListItem:hover {\\n  background-color: #1C97EA;\\n  color: #fff;\\n}\\n\\n.tagsSelect {\\n  display: inline-block;\\n  padding-left: 18px;\\n  width: 150px;\\n}\\n\\n.tagsSelectItem {\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  display: inline-block;\\n  font-size: 0.75rem;\\n  font-weight: 400;\\n  margin-right: 0.3rem;\\n  padding-bottom: 0.1rem;\\n  padding-left: 0.2rem;\\n  padding-right: 0.2rem;\\n  padding-top: 0.1rem;\\n}\\n\\n.tagsSelectItemRemove {\\n  cursor: pointer;\\n  font-weight: bold;\\n}\\n\\n.tagsSelectItemRemove:before {\\n  content: \\\" ×\\\";\\n}\\n\",\"\\r\\n.searchTagsContainer {\\r\\n  display: inline-block;\\r\\n  margin-left: -0.3rem;\\r\\n  margin-right: -0.3rem;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.searchTagsInputBox {\\r\\n  display: inline-block;\\r\\n  padding-left: 0.3rem;\\r\\n  padding-right: 0.3rem;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.searchTagsInputBox:before {\\r\\n  content: \\\"\\\\f02b\\\";\\r\\n  margin-right: 0.3rem;\\r\\n  color: #c6c6c6;\\r\\n  font-family: FontAwesome;\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.searchTags {\\r\\n  border: none;\\r\\n  border-bottom-width: 0;\\r\\n  transition: border 0.3s;\\r\\n  padding: 0.2rem;\\r\\n  width: 35px;\\r\\n}\\r\\n\\r\\n.searchTags:focus,\\r\\n.searchTags:hover {\\r\\n  border-bottom-width: 0;\\r\\n}\\r\\n\\r\\n.tagsListContainer {\\r\\n  display: block;\\r\\n  max-height: 150px;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.tagsList {\\r\\n  background-color: #fff;\\r\\n  border: 1px solid rgba(0,0,0,.2);\\r\\n  box-shadow: 0 3px 12px rgba(0,0,0,.15);\\r\\n  display: inline-block;\\r\\n  overflow: auto;\\r\\n  position: absolute;\\r\\n  top: 4px;\\r\\n  width: 100%;\\r\\n  z-index: 3;\\r\\n}\\r\\n\\r\\n.tagsListEmpty {\\r\\n  padding-top: 0.4rem;\\r\\n  padding-bottom: 0.4rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.tagsListItem {\\r\\n  cursor: pointer;\\r\\n  padding-bottom: 0.4rem;\\r\\n  padding-left: 0.3rem;\\r\\n  padding-right: 0.3rem;\\r\\n  padding-top: 0.4rem;\\r\\n}\\r\\n\\r\\n.tagsListItem:hover {\\r\\n  background-color: #1C97EA;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.tagsSelect {\\r\\n  display: inline-block;\\r\\n  padding-left: 18px;\\r\\n  width: 150px;\\r\\n}\\r\\n\\r\\n.tagsSelectItem {\\r\\n  border: 1px solid transparent;\\r\\n  border-radius: 2px;\\r\\n  display: inline-block;\\r\\n  font-size: 0.75rem;\\r\\n  font-weight: 400;\\r\\n  margin-right: 0.3rem;\\r\\n  padding-bottom: 0.1rem;\\r\\n  padding-left: 0.2rem;\\r\\n  padding-right: 0.2rem;\\r\\n  padding-top: 0.1rem;\\r\\n}\\r\\n\\r\\n.tagsSelectItemRemove {\\r\\n  cursor: pointer;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.tagsSelectItemRemove:before {\\r\\n  content: \\\" ×\\\";\\r\\n}\\r\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\nexports.locals = {\n\t\"searchTagsContainer\": \"searchTagsContainer___Zf13X\",\n\t\"searchTagsInputBox\": \"searchTagsInputBox___3IOHY\",\n\t\"searchTags\": \"searchTags___3wOD-\",\n\t\"tagsListContainer\": \"tagsListContainer___3CW1o\",\n\t\"tagsList\": \"tagsList___cfxGL\",\n\t\"tagsListEmpty\": \"tagsListEmpty___EyYEK\",\n\t\"tagsListItem\": \"tagsListItem___1a9W-\",\n\t\"tagsSelect\": \"tagsSelect___2cai8\",\n\t\"tagsSelectItem\": \"tagsSelectItem___3Labb\",\n\t\"tagsSelectItemRemove\": \"tagsSelectItemRemove___2WvNo\"\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?modules&importLoaders=2&sourceMap&localIdentName=[local]___[hash:base64:5]!./~/sass-loader?outputStyle=expanded&sourceMap!./studio/TagEntityTreeFilterByTags.scss\n ** module id = 31\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 32\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 33\n ** module chunks = 0\n **/","import React, { Component } from 'react'\r\nimport ShowColor from './ShowColor'\r\nimport findTagInSet from './findTagInSet'\r\n\r\nclass TagEntityTreeItem extends Component {\r\n  render () {\r\n    const { entity, entities } = this.props\r\n    let tags = entity.tags || []\r\n\r\n    // for tags, display the color right in the entity tree\r\n    if (entity.__entitySet === 'tags') {\r\n      tags = [entity]\r\n    }\r\n\r\n    const tagsLength = tags.length\r\n\r\n    return (\r\n      <div style={{ display: 'inline-block', marginLeft: '0.2rem', marginRight: '0.2rem' }}>\r\n        {tags.map((tag, tagIndex) => {\r\n          const tagFound = findTagInSet(entities.tags, tag.shortid) || {}\r\n\r\n          return (\r\n            <span key={tag.shortid} title={tagFound.name}>\r\n              <ShowColor color={tagFound.color} width={8} height={15} />\r\n              {(tagIndex !== tagsLength - 1) ? ' ' : null}\r\n            </span>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TagEntityTreeItem\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeItem.js\n **/","import React, { Component } from 'react'\r\nimport ShowColor from './ShowColor'\r\n\r\nclass TagEntityTreeTagGroupItem extends Component {\r\n  render () {\r\n    const { groupType, name, color } = this.props\r\n\r\n    if (groupType !== 'tags') {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <span title={name} style={{ display: 'inline-block' }}>\r\n        <ShowColor color={color} width={8} height={15} />\r\n        &nbsp;\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TagEntityTreeTagGroupItem\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/TagEntityTreeTagGroupItem.js\n **/","\r\nexport default (entity, entitySets, filterInfo) => {\r\n  const { tags } = filterInfo\r\n  const allTagsInEntity = entity.tags || []\r\n\r\n  if (tags == null) {\r\n    return true\r\n  }\r\n\r\n  if (tags.length > 0) {\r\n    return tags.every((tag) => {\r\n      return allTagsInEntity.some((tagInEntity) => tagInEntity.shortid === tag.shortid)\r\n    })\r\n  }\r\n\r\n  return true\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./studio/filterItemWithTagsStrategy.js\n **/"],"sourceRoot":""}